(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Bill"],{"0f35":function(t,i,n){"use strict";n("20a2");var e=n("113c"),s=n("16bc"),a=n("eba3"),r=n("42a5"),o=n("3098"),c=n("e791"),l=n("c53f"),d=n("f708"),u=n("b893"),f=n("5d2d");i["a"]={mounted:function(){var t=this;this.setApp(),this.waitInit(function(){t.setWx()})},data:function(){var t={},i=f["a"].load("USER_INFO"),n=i.id;if(c["a"].indexOf(this.$path)>=0){var e=this.$route.query.friend_id;t={title:"这一年，我在叮咚买菜的那些柴米油盐",desc:"2018悄悄过去，关于你的小秘密都在这里，最后有惊喜！",friends_title:"这一年，我在叮咚买菜的那些柴米油盐",img_url:s["j"],link:Object(u["g"])("/bill",{friend_id:n||e})}}else t={title:"叮咚买菜，29分钟生鲜到家~",desc:"0配送费0起送价的买菜神器，新人注册还有38元红包哦~",friends_title:"叮咚买菜，29分钟生鲜到家~",img_url:s["c"],link:Object(u["g"])(this.$route.fullPath)};return{common_share_info:t}},computed:{$path:function(){return this.$route.path}},methods:{setWx:function(){if(d["a"].isWeixin){var t=this.common_share_info;l["a"].setShareOption(t)}},setApp:function(){var t=this;if(d["a"].isApp&&!(c["f"].indexOf(this.$path)>=0)){o["a"].APP_E3=r["a"].subscribe(o["a"].APP_E3,function(){c["a"].indexOf(t.$path)>=0&&t.log({cid:"mybill",aid:"share"}),t.appShare()});var i={image:s["b"]};a["a"].setRightTopButton(i)}},appShare:function(){d["a"].isApp&&a["a"].share(Object(e["a"])({},this.common_share_info))},updateShare:function(t){this.common_share_info=Object.assign(this.common_share_info,t||{}),this.setWx()}}}},"16bc":function(t,i,n){"use strict";n.d(i,"b",function(){return s}),n.d(i,"c",function(){return a}),n.d(i,"g",function(){return r}),n.d(i,"h",function(){return o}),n.d(i,"e",function(){return c}),n.d(i,"f",function(){return l}),n.d(i,"d",function(){return d}),n.d(i,"i",function(){return u}),n.d(i,"j",function(){return f}),n.d(i,"l",function(){return h}),n.d(i,"m",function(){return _}),n.d(i,"n",function(){return g}),n.d(i,"o",function(){return p}),n.d(i,"p",function(){return m}),n.d(i,"q",function(){return b}),n.d(i,"r",function(){return v}),n.d(i,"s",function(){return w}),n.d(i,"t",function(){return y}),n.d(i,"u",function(){return k}),n.d(i,"a",function(){return $}),n.d(i,"v",function(){return x}),n.d(i,"k",function(){return C}),n.d(i,"w",function(){return O}),n.d(i,"x",function(){return S});var e=function(t){return"https://img.ddimg.mobi/assets/h5/".concat(t)},s=e("4602b1a87656d1501819113290.png"),a=e("9c3a30349e68a1498706936110.png"),r=e("activity-bill-first-head-log.png"),o=e("activity-bill-first-middle.png"),c=e("activity-bill-first-right-font2.png"),l=e("activity-bill-first-right-font1.png"),d=e("activity-bill-first-bottom.png"),u=e("activity-bill-pack-foot-logo.png"),f=e("activity-bill-share-small-img.png"),h=e("newtask/icon-buy.png"),_=e("newtask/icon-day.png"),g=e("newtask/icon-evaluate.png"),p=e("newtask/icon-fish.png"),m=e("newtask/icon-info.png"),b=e("newtask/icon-invite.png"),v=e("newtask/icon-meat.png"),w=e("newtask/icon-sign.png"),y=e("newtask/icon-vip.png"),k=e("newtask/logo-bottom.png"),$=e("44b2872a591fe1503888813415.png"),x=e("receive-cart-tip.png?v=1"),C=e("give-cart-title.png?v=1"),O=e("vip/member-0.png"),S=e("vip/member-1.png")},"209f":function(t,i,n){"use strict";var e=n("28a8"),s=n.n(e);s.a},"28a8":function(t,i,n){},c05d:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"bill-wrapper"},[n("div",{staticClass:"bill-logo"},[n("img",{attrs:{src:t.img_logo,alt:""}})]),n("div",{staticClass:"bill-middle"},[n("img",{attrs:{src:t.img_middle,alt:""}}),n("transition",{attrs:{name:"cover-page"}},[t.show_two?n("div",{staticClass:"bill-middle-cover"}):t._e()])],1),n("div",{staticClass:"bill-bottom"},[n("img",{attrs:{src:t.img_bottom,alt:""}})]),n("transition",{attrs:{name:"font-r"}},[t.show_one?n("div",{staticClass:"bill-font-r"},[n("img",{attrs:{src:t.img_font_r,alt:""}})]):t._e()]),n("transition",{attrs:{name:"font-l"}},[t.show_one?n("div",{staticClass:"bill-font-l"},[n("img",{attrs:{src:t.img_font_l,alt:""}})]):t._e()]),!t.is_friend&&t.show_one?n("div",{staticClass:"bill-start"},[n("div",{staticClass:"start-btn-border"}),n("div",{staticClass:"start-btn",attrs:{"data-type":"0"},on:{click:t.eventStartBill}},[t._v("开启我的年度账单")])]):t._e(),t.is_friend&&t.show_one?n("div",{staticClass:"bill-start-share"},[n("div",{staticClass:"start-btn-friend",attrs:{"data-type":"1"},on:{click:t.eventStartBill}},[t._v("查看好友账单")]),n("div",{staticClass:"start-btn",attrs:{"data-type":"0"},on:{click:t.eventStartBill}},[t._v("开启我的年度账单")])]):t._e()],1)},s=[],a=n("059d"),r=n.n(a),o=(n("5475"),n("4aee")),c=n("0f35"),l=n("16bc"),d=n("f708"),u=n("eba3"),f=n("b893"),h=n("b12f"),_={name:"bill",components:{},mixins:[c["a"]],data:function(){return{img_logo:l["g"],img_middle:l["h"],img_bottom:l["d"],img_font_r:l["f"],img_font_l:l["e"],show_one:!1,show_two:!1,friend_id:"",is_friend:0}},mounted:function(){var t=this,i=this.$route.query.friend_id;this.friend_id=i,i&&(this.is_friend=!!i,this.$store.state.loading.isLoading=!0),this.show_one=!0,this.waitInit(function(){t.$store.state.loading.isLoading=!1,t.log({cid:"undefined"!==typeof t.friend_id?"mybill_load":"mybill",aid:"index"})})},methods:{requestInfo:function(){var t=Object(o["a"])(r.a.mark(function t(){var i,n,e,s,a,o,c,l;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=this.$route.query.friend_id,t.next=3,this.$http.get(h["a"].userBill("detailInfo"),{check_user:1,friend_id:i},!1);case 3:n=t.sent,e=n.data,e&&(s=e.is_friend,a=e.is_new_user,o=e.is_self_new_user,c=i?o:a,l=this.$store.state.login.user_info.id,this.is_friend=s,this.$store.state.activity.is_new_user=c,this.updateShare({link:Object(f["g"])("/bill",{friend_id:c?"":l})})),this.$store.state.loading.isLoading=!1;case 7:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}(),watchUser:function(){this.requestInfo()},eventStartBill:function(t){var i=this,n=t.target.getAttribute("data-type"),e=this.$store.state.activity.is_new_user;"1"===n&&(this.log({cid:"mybill_load",aid:"view_friends"}),this.show_two=!0,setTimeout(function(){i.$router.push({path:"/bill/detail",query:{friend_id:i.friend_id}})},1e3)),"0"===n&&(this.log({cid:"mybill",aid:"open"}),this.$store.state.login.user_login?(this.show_two=!0,setTimeout(function(){i.$router.push({path:e?"/bill/pack":"/bill/detail"})},1e3)):d["a"].isApp?u["a"].login(function(t){var i=t.success;i?u["a"].reloadWebView():u["a"].backWebView()}):this.$store.state.login.isShowLogin=!0)}}},g=_,p=(n("209f"),n("17cc")),m=Object(p["a"])(g,e,s,!1,null,"64158086",null);i["default"]=m.exports}}]);
//# sourceMappingURL=Bill.8843324d.js.map