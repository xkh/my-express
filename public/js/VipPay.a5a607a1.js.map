{"version":3,"sources":["webpack:///./src/const/images.js","webpack:///./src/mixins/visibility.js","webpack:///./src/views/VipPay.vue?9728","webpack:///./src/const/payType.js","webpack:///./node_modules/_@babel_runtime@7.1.2@@babel/runtime/helpers/esm/typeof.js","webpack:///./src/utils/payment.js","webpack:///src/views/VipPay.vue","webpack:///./src/views/VipPay.vue?9b94","webpack:///./src/views/VipPay.vue","webpack:///./src/views/VipPay.vue?ef65"],"names":["__webpack_require__","d","__webpack_exports__","IMG_APP_SHARE","IMG_APP_SHARE_IMG","IMG_BILL_FIRST_LOGO","IMG_BILL_FIRST_MIDDLE","IMG_BILL_FIRST_FONT_0","IMG_BILL_FIRST_FONT_1","IMG_BILL_FIRST_BOTTOM","IMG_BILL_PACK_LOGO","IMG_BILL_SHARE_IMG","IMG_NEWTASK_ICON_BUY","IMG_NEWTASK_ICON_DAY","IMG_NEWTASK_ICON_EVALUATE","IMG_NEWTASK_ICON_FISH","IMG_NEWTASK_ICON_INFO","IMG_NEWTASK_ICON_INVITE","IMG_NEWTASK_ICON_MEAT","IMG_NEWTASK_ICON_SIGN","IMG_NEWTASK_ICON_VIP","IMG_NEWTASK_LOGO_BOTTOM","DEFAULT_USER_AVATAR_NEW","IMG_RECEIVE_CART_TIP","IMG_GIVE_CART_TITLE","MEMBER_0","MEMBER_1","h5Img","name","concat","methods","visibilityAppShow","fun","platform","isApp","needProcess","compVer","appVersion","count","this","eventListenerApp","isIos","visibilityWebChange","hiddenProperty","document","visibilityChangeEvent","replace","addEventListener","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","user_info","avatar","alt","_v","_s","status","_e","expire_time","size","color","vip_point_rate","save_money","minimum_price","ref","style","_l","item","index","key","id","class","selected","select_index","on","click","$event","selectCard","discount","days","description","price","origin_price","gotoVipRightDesc","selectPayment","PAY_TYPE","ALI_APP","pay_type","WEIXIN_APP","eventCreateOrder","staticRenderFns","WEIXIN_MP","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","TIMEOUT","PAGE_PAY_RESULT","createDefaultOptions","redirect_url","location","origin","logger","defaultChannel","home_url","param_split","makeAliPayCallback","success","error","timerId","setTimeout","result","clearTimeout","isAndroid","test","makeWeixinPayCallback","JSON","stringify","indexOf","pay","params","type","pay_url","bridge","aliPay","callback","weixinPay","fetch","postForm","context","PAY","Object","objectSpread","payment","VipPayvue_type_script_lang_js_","mixins","visibility","data","user_status","cards","renew_remain","const_images","buy_notice","order_number","computed","length","listStyle","width","Math","ceil","covertPx","mounted","invite_code","$route","query","user_login","getCards","setApp","_getCards","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","_cards","_this","wrap","_context","prev","next","$http","get","api","vipApi","sent","log","cid","aid","reverse","forEach","card","is_activity","stop","apply","arguments","_that","$confirm","content","submitText","createOrder","$toast","_createOrder","_callee2","card_id","_ref2","goPayResult","_this2","_context2","$store","state","loading","isLoading","storage","save","paying","load","update","openUrl","path","_this3","back_app","setNavigationBarStyle","bar_color","len","cw","documentElement","clientWidth","watch","_this4","cardWidth","screenWidth","scrollLeft","$nextTick","$refs","listWrap","views_VipPayvue_type_script_lang_js_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_VipPay_vue_vue_type_style_index_0_id_df4fcc82_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_VipPay_vue_vue_type_style_index_0_id_df4fcc82_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/VipPay.a5a607a1.js","sourcesContent":["/**\n * @date: 2018/12/14\n * @author: xkh\n */\n\nconst h5Img = (name)=>`https://img.ddimg.mobi/assets/h5/${name}`;\n\n//app分享icon\nexport const IMG_APP_SHARE = h5Img('4602b1a87656d1501819113290.png');\nexport const IMG_APP_SHARE_IMG = h5Img('9c3a30349e68a1498706936110.png');\n\n//2018年度账单\nexport const IMG_BILL_FIRST_LOGO =  h5Img('activity-bill-first-head-log.png');\nexport const IMG_BILL_FIRST_MIDDLE = h5Img('activity-bill-first-middle.png');\nexport const IMG_BILL_FIRST_FONT_0 = h5Img('activity-bill-first-right-font2.png');\nexport const IMG_BILL_FIRST_FONT_1 = h5Img('activity-bill-first-right-font1.png');\nexport const IMG_BILL_FIRST_BOTTOM = h5Img('activity-bill-first-bottom.png');\nexport const IMG_BILL_PACK_LOGO = h5Img('activity-bill-pack-foot-logo.png');\nexport const IMG_BILL_SHARE_IMG = h5Img('activity-bill-share-small-img.png');\n\n//新手任务\nexport const IMG_NEWTASK_ICON_BUY = h5Img('newtask/icon-buy.png');\nexport const IMG_NEWTASK_ICON_DAY = h5Img('newtask/icon-day.png');\nexport const IMG_NEWTASK_ICON_EVALUATE = h5Img('newtask/icon-evaluate.png');\nexport const IMG_NEWTASK_ICON_FISH = h5Img('newtask/icon-fish.png');\nexport const IMG_NEWTASK_ICON_INFO = h5Img('newtask/icon-info.png');\nexport const IMG_NEWTASK_ICON_INVITE = h5Img('newtask/icon-invite.png');\nexport const IMG_NEWTASK_ICON_MEAT = h5Img('newtask/icon-meat.png');\nexport const IMG_NEWTASK_ICON_SIGN = h5Img('newtask/icon-sign.png');\nexport const IMG_NEWTASK_ICON_VIP = h5Img('newtask/icon-vip.png');\nexport const IMG_NEWTASK_LOGO_BOTTOM = h5Img('newtask/logo-bottom.png');\n\nexport const DEFAULT_USER_AVATAR_NEW =h5Img('44b2872a591fe1503888813415.png');\nexport const IMG_RECEIVE_CART_TIP = h5Img('receive-cart-tip.png?v=1');\nexport const IMG_GIVE_CART_TITLE = h5Img('give-cart-title.png?v=1');\n\n// 开通绿卡\nexport const MEMBER_0 = h5Img('vip/member-0.png');\nexport const MEMBER_1 = h5Img('vip/member-1.png');\n","/**\n * @date: 2019/1/12\n * @author: xkh\n */\n\nimport {platform} from '@/utils/platform'\nimport {compVer} from '@/utils/tools'\n\nexport default {\n    methods: {\n        //app中页面可见\n        visibilityAppShow(fun){\n            if(!platform.isApp) return;\n            let needProcess = compVer(platform.appVersion, '8.29.1') <= 0;\n            let count = 0;\n            this.eventListenerApp('APP_E5', ()=>{\n                if(platform.isIos && needProcess){\n                    count++;\n                    if(count === 2){\n                        count = 0;\n                        fun && fun();\n                    }\n                }else{\n                    fun && fun();\n                }\n            });\n            if(platform.isIos){\n                this.eventListenerApp('APP_E1', ()=>{\n                    fun && fun();\n                });\n            }\n        },\n        //web中页面可见\n        visibilityWebChange(fun){\n            let hiddenProperty = 'hidden' in document ? 'hidden' :\n                'webkitHidden' in document ? 'webkitHidden' :\n                    'mozHidden' in document ? 'mozHidden' :\n                        null;\n            let visibilityChangeEvent = hiddenProperty.replace(/hidden/i, 'visibilitychange');\n            document.addEventListener(visibilityChangeEvent, () => {\n                if (!document[hiddenProperty]) {\n                    //出现\n                    fun && fun(true)\n                } else {\n                    //隐藏\n                    fun && fun(false)\n                }\n            });\n        },\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vip-pay-wrapper\"},[_c('div',{staticClass:\"vip-user-info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.user_info.avatar || _vm.DEFAULT_USER_AVATAR_NEW,\"alt\":\"\"}})]),_c('div',{staticClass:\"text-wrap\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"\\n                \"+_vm._s(_vm.user_info.name)+\"\\n                \"),(_vm.status === 2)?_c('img',{staticClass:\"member\",attrs:{\"src\":_vm.MEMBER_0,\"alt\":\"\"}}):_vm._e(),(_vm.status === 1)?_c('img',{staticClass:\"member\",attrs:{\"src\":_vm.MEMBER_1,\"alt\":\"\"}}):_vm._e()]),(_vm.status === 0)?_c('div',{staticClass:\"status\"},[_vm._v(\"绿卡未开通\")]):_vm._e(),(_vm.status === 1)?_c('div',{staticClass:\"status\"},[_vm._v(_vm._s(_vm.expire_time)+\"到期\")]):_vm._e(),(_vm.status === 2)?_c('div',{staticClass:\"status\"},[_vm._v(\"已到期\")]):_vm._e()])]),_c('div',{staticClass:\"vip-body\"},[(_vm.status === 0)?_c('div',{staticClass:\"vip-privilege\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"开通绿卡享三大权益，预计每单省6.96元\")]),_c('div',{staticClass:\"privilege-list\"},[_c('div',{staticClass:\"privilege-item\"},[_c('icon-font',{attrs:{\"name\":\"zhuanxiangquanx\",\"size\":\"66\",\"color\":\"#97DFB5\"}}),_c('div',{staticClass:\"name\"},[_vm._v(\"专享券\")])],1),_c('div',{staticClass:\"privilege-item\"},[_c('icon-font',{attrs:{\"name\":\"zhuanxiangtejiax1\",\"size\":\"66\",\"color\":\"#97DFB5\"}}),_c('div',{staticClass:\"name\"},[_vm._v(\"专享特价\")])],1),_c('div',{staticClass:\"privilege-item\"},[_c('icon-font',{attrs:{\"name\":\"beijifenx1\",\"size\":\"66\",\"color\":\"#97DFB5\"}}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.vip_point_rate)+\"倍积分\")])],1)])]):_vm._e(),(_vm.status === 1)?_c('div',{staticClass:\"vip-save-text\"},[(_vm.save_money >= _vm.minimum_price)?_c('div',{staticClass:\"title\"},[_vm._v(\"绿卡权益已为您节省\"+_vm._s(_vm.save_money)+\"元\")]):_vm._e(),(_vm.save_money < _vm.minimum_price)?_c('div',{staticClass:\"title\"},[_vm._v(\"立即续卡预计每单省6.96元\")]):_vm._e()]):_vm._e(),(_vm.status === 2)?_c('div',{staticClass:\"vip-save-text\"},[(_vm.save_money >= _vm.minimum_price)?_c('div',{staticClass:\"title\"},[_vm._v(\"绿卡权益已为您节省\"+_vm._s(_vm.save_money)+\"元\")]):_vm._e(),(_vm.save_money < _vm.minimum_price)?_c('div',{staticClass:\"title\"},[_vm._v(\"开通绿卡，预计每单省6.96元\")]):_vm._e()]):_vm._e(),_c('div',{ref:\"listWrap\",staticClass:\"vip-pay-cards\"},[_c('div',{staticClass:\"price-list\",style:(_vm.listStyle)},_vm._l((_vm.cards),function(item,index){return _c('div',{key:item.id,staticClass:\"price-list-item\",class:{selected: _vm.select_index===index},on:{\"click\":function($event){_vm.selectCard(index)}}},[(item.discount < 10)?_c('div',{staticClass:\"discount\"},[_vm._v(_vm._s(item.discount)+\"折\")]):_vm._e(),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name)+\"·\"+_vm._s(item.days)+\"天\")]),_c('div',{staticClass:\"desc\"},[_vm._v(_vm._s(item.description))]),_c('div',{staticClass:\"price-wrap\"},[_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\")]),_vm._v(_vm._s(item.price)+\"\\n                        \")]),(item.price < item.origin_price)?_c('div',{staticClass:\"origin-price\"},[_c('s',[_vm._v(\"￥\"+_vm._s(item.origin_price))])]):_vm._e()]),_c('div',{staticClass:\"check-wrap\"},[(_vm.select_index!==index)?_c('i',{staticClass:\"icon-circle\"}):_vm._e(),(_vm.select_index===index)?_c('i',{staticClass:\"icon-checked\"},[_c('icon-font',{attrs:{\"name\":\"chenggong\",\"size\":\"20\",\"color\":\"#fff\"}})],1):_vm._e()])])}))]),_c('div',{staticClass:\"vip-rights-desc\",on:{\"click\":_vm.gotoVipRightDesc}},[_c('span',[_vm._v(\"叮咚绿卡会员权益说明\")]),_c('icon-font',{attrs:{\"name\":\"shuomingx\",\"size\":\"26\",\"color\":\"#999999\"}})],1)]),_c('div',{staticClass:\"vip-pay-type m-top20\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"支付方式\")]),_c('div',[_c('div',{staticClass:\"pay-type\",on:{\"click\":function($event){_vm.selectPayment(_vm.PAY_TYPE.ALI_APP)}}},[_c('icon-font',{staticClass:\"icon-ali\",attrs:{\"name\":\"Shapex\",\"size\":\"30\",\"color\":\"#07A0F8\"}}),_c('span',[_vm._v(\"支付宝支付\")]),_c('div',{staticClass:\"check-wrap\"},[(_vm.pay_type !== _vm.PAY_TYPE.ALI_APP)?_c('i',{staticClass:\"icon-circle\"}):_vm._e(),(_vm.pay_type === _vm.PAY_TYPE.ALI_APP)?_c('i',{staticClass:\"icon-checked\"},[_c('icon-font',{attrs:{\"name\":\"chenggong\",\"size\":\"20\",\"color\":\"#fff\"}})],1):_vm._e()])],1),_c('div',{staticClass:\"pay-type\",on:{\"click\":function($event){_vm.selectPayment(_vm.PAY_TYPE.WEIXIN_APP)}}},[_c('icon-font',{staticClass:\"icon-wx\",attrs:{\"name\":\"Shapex1\",\"size\":\"30\",\"color\":\"#00B700\"}}),_c('span',[_vm._v(\"微信支付\")]),_c('div',{staticClass:\"check-wrap\"},[(_vm.pay_type !== _vm.PAY_TYPE.WEIXIN_APP)?_c('i',{staticClass:\"icon-circle\"}):_vm._e(),(_vm.pay_type === _vm.PAY_TYPE.WEIXIN_APP)?_c('i',{staticClass:\"icon-checked\"},[_c('icon-font',{attrs:{\"name\":\"chenggong\",\"size\":\"20\",\"color\":\"#fff\"}})],1):_vm._e()])],1)])]),_c('div',{staticClass:\"vip-pay-btn\",on:{\"click\":_vm.eventCreateOrder}},[_c('span',[_vm._v(\"立即支付\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 支付方式\n */\nexport const PAY_TYPE = {\n    ALI_APP: 2,       //支付宝app支付\n    WEIXIN_MP: 3,     //微信公众号支付\n    WEIXIN_APP: 4,    //微信app支付\n};\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import {platform} from './platform';\nimport {logger} from './logger';\nimport {PAY_TYPE} from '@/const/payType';\nimport {bridge} from '@/utils/native/bridge';\nimport fetch from '@/server/http';\nimport context from '@/server/servers';\n\n\n/**\n * 支付超时时间\n * @type {number}\n */\nconst TIMEOUT = 30000;\n\nconst PAGE_PAY_RESULT = '/vip/payResult';\n\nconst createDefaultOptions = () => ({\n    redirect_url: `${location.origin}/?channel=${logger.defaultChannel}#${PAGE_PAY_RESULT}?`,\n    home_url: `${location.origin}/#${PAGE_PAY_RESULT}?`,\n    param_split: '&'\n});\n\nconst makeAliPayCallback = (success, error) => {\n    const timerId = setTimeout(() => {\n        if (error) {\n            error();\n        }\n    }, TIMEOUT);\n    return result => {\n        clearTimeout(timerId);\n\n        if (platform.isAndroid) {\n            if (result.success) {\n                if (success) {\n                    success(result);\n                }\n            } else {\n                if (error) {\n                    error(result);\n                }\n            }\n        }\n\n        if (platform.isIos) {\n            if ('success' in result) {\n                if (result.success) {\n                    if (success) {\n                        success(result);\n                    }\n                } else {\n                    if (error) {\n                        error(result);\n                    }\n                }\n            } else {\n                // 兼容逻辑\n                // 回调数据格式\n                /* ~App6.0.0 支付宝客户端支付\n                 result.result = '{\"memo\":{\"result\":\"\",\"memo\":\"用户中途取消\",\"ResultStatus\":\"6001\",\"progress\":3},\"requestType\":\"safepay\"}'\n                 */\n                /* ~App6.0.0 支付宝H5收银台支付\n                 result.result = 'result={};memo={};resultStatus={6001}'\n                 */\n                if (/(resultStatus=\\{9000})|(\"ResultStatus\":\"9000\")/.test(result.result)) {\n                    if (success) {\n                        success(result);\n                    }\n                } else {\n                    if (error) {\n                        error(result);\n                    }\n                }\n            }\n        }\n    };\n};\n\nconst makeWeixinPayCallback = (success, error) => {\n    const timerId = setTimeout(() => {\n        if (error) {\n            error();\n        }\n    }, TIMEOUT);\n    return result => {\n        clearTimeout(timerId);\n\n        if (platform.isAndroid) {\n            if (result.success) {\n                if (success) {\n                    success(result);\n                }\n            } else {\n                if (error) {\n                    error(result);\n                }\n            }\n        }\n\n        if (platform.isIos) {\n            if (typeof result === 'object') {\n                result = JSON.stringify(result);\n            }\n            if (result.indexOf('ret=0') > -1) {\n                if (success) {\n                    success(result);\n                }\n            } else {\n                if (error) {\n                    error(result);\n                }\n            }\n        }\n    };\n};\n\nconst pay = (params) => {\n    if (platform.isApp) {\n        const {type, pay_url, success, error} = params;\n        if (type === PAY_TYPE.ALI_APP) {\n            bridge.aliPay({pay_url, callback: makeAliPayCallback(success, error), error})\n        }\n        if (type === PAY_TYPE.WEIXIN_APP) {\n            bridge.weixinPay({pay_url, callback: makeWeixinPayCallback(success, error), error})\n        }\n    } else {\n        fetch.postForm(`${context.PAY}pay/wx.php`, {...createDefaultOptions(), ...params});\n    }\n};\n\nconst payment = {pay};\n\nexport {payment}\n","<template>\n    <div class=\"vip-pay-wrapper\">\n        <div class=\"vip-user-info\">\n            <div class=\"avatar\">\n                <img :src=\"user_info.avatar || DEFAULT_USER_AVATAR_NEW\" alt=\"\">\n            </div>\n            <div class=\"text-wrap\">\n                <div class=\"name\">\n                    {{user_info.name}}\n                    <img :src=\"MEMBER_0\" v-if=\"status === 2\" class=\"member\" alt=\"\">\n                    <img :src=\"MEMBER_1\" v-if=\"status === 1\" class=\"member\" alt=\"\">\n                </div>\n                <div class=\"status\" v-if=\"status === 0\">绿卡未开通</div>\n                <div class=\"status\" v-if=\"status === 1\">{{expire_time}}到期</div>\n                <div class=\"status\" v-if=\"status === 2\">已到期</div>\n            </div>\n        </div>\n\n        <div class=\"vip-body\">\n            <div class=\"vip-privilege\" v-if=\"status === 0\">\n                <div class=\"title\">开通绿卡享三大权益，预计每单省6.96元</div>\n                <div class=\"privilege-list\">\n                    <div class=\"privilege-item\">\n                        <icon-font name=\"zhuanxiangquanx\" size=\"66\" color=\"#97DFB5\"></icon-font>\n                        <div class=\"name\">专享券</div>\n                    </div>\n                    <div class=\"privilege-item\">\n                        <icon-font name=\"zhuanxiangtejiax1\" size=\"66\" color=\"#97DFB5\"></icon-font>\n                        <div class=\"name\">专享特价</div>\n                    </div>\n                    <div class=\"privilege-item\">\n                        <icon-font name=\"beijifenx1\" size=\"66\" color=\"#97DFB5\"></icon-font>\n                        <div class=\"name\">{{vip_point_rate}}倍积分</div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"vip-save-text\" v-if=\"status === 1\">\n                <div class=\"title\" v-if=\"save_money >= minimum_price\">绿卡权益已为您节省{{save_money}}元</div>\n                <div class=\"title\" v-if=\"save_money < minimum_price\">立即续卡预计每单省6.96元</div>\n            </div>\n            <div class=\"vip-save-text\" v-if=\"status === 2\">\n                <div class=\"title\" v-if=\"save_money >= minimum_price\">绿卡权益已为您节省{{save_money}}元</div>\n                <div class=\"title\" v-if=\"save_money < minimum_price\">开通绿卡，预计每单省6.96元</div>\n            </div>\n\n            <div class=\"vip-pay-cards\" ref=\"listWrap\">\n                <div class=\"price-list\" :style=\"listStyle\">\n                    <div class=\"price-list-item\" v-for=\"(item, index) in cards\" :key=\"item.id\"\n                         :class=\"{selected: select_index===index}\" @click=\"selectCard(index)\">\n                        <div v-if=\"item.discount < 10\" class=\"discount\">{{item.discount}}折</div>\n                        <div class=\"name\">{{item.name}}·{{item.days}}天</div>\n                        <div class=\"desc\">{{item.description}}</div>\n                        <div class=\"price-wrap\">\n                            <div class=\"price\">\n                                <span>￥</span>{{item.price}}\n                            </div>\n                            <div class=\"origin-price\" v-if=\"item.price < item.origin_price\">\n                                <s>￥{{item.origin_price}}</s>\n                            </div>\n                        </div>\n                        <div class=\"check-wrap\">\n                            <i class=\"icon-circle\" v-if=\"select_index!==index\"></i>\n                            <i class=\"icon-checked\" v-if=\"select_index===index\">\n                                <icon-font name=\"chenggong\" size=\"20\" color=\"#fff\"/>\n                            </i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"vip-rights-desc\" @click=\"gotoVipRightDesc\">\n                <span>叮咚绿卡会员权益说明</span>\n                <icon-font name=\"shuomingx\" size=\"26\" color=\"#999999\"/>\n            </div>\n        </div>\n\n        <div class=\"vip-pay-type m-top20\">\n            <div class=\"title\">支付方式</div>\n            <div>\n                <div class=\"pay-type\" @click=\"selectPayment(PAY_TYPE.ALI_APP)\">\n                    <icon-font class=\"icon-ali\" name=\"Shapex\" size=\"30\" color=\"#07A0F8\"/>\n                    <span>支付宝支付</span>\n                    <div class=\"check-wrap\">\n                        <i class=\"icon-circle\" v-if=\"pay_type !== PAY_TYPE.ALI_APP\"></i>\n                        <i class=\"icon-checked\" v-if=\"pay_type === PAY_TYPE.ALI_APP\">\n                            <icon-font name=\"chenggong\" size=\"20\" color=\"#fff\"/>\n                        </i>\n                    </div>\n                </div>\n                <div class=\"pay-type\" @click=\"selectPayment(PAY_TYPE.WEIXIN_APP)\">\n                    <icon-font class=\"icon-wx\" name=\"Shapex1\" size=\"30\" color=\"#00B700\"/>\n                    <span>微信支付</span>\n                    <div class=\"check-wrap\">\n                        <i class=\"icon-circle\" v-if=\"pay_type !== PAY_TYPE.WEIXIN_APP\"></i>\n                        <i class=\"icon-checked\" v-if=\"pay_type === PAY_TYPE.WEIXIN_APP\">\n                            <icon-font name=\"chenggong\" size=\"20\" color=\"#fff\"/>\n                        </i>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"vip-pay-btn\" @click=\"eventCreateOrder\">\n            <span>立即支付</span>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {PAY_TYPE} from '@/const/payType'\n    import API from '@/server/api'\n    import {payment} from '@/utils/payment'\n    import {platform} from '@/utils/platform'\n    import {bridge} from '@/utils/native/bridge'\n    import {local} from '@/utils/storage'\n    import visibility from '@/mixins/visibility'\n    import {DEFAULT_USER_AVATAR_NEW, MEMBER_0, MEMBER_1} from '@/const/images'\n\n    export default {\n        name: \"VipPay\",\n        mixins: [visibility],\n        data() {\n            return {\n                status: 0,          // 0-未申请 1-未过期  2-已过期\n                user_status: 1,     // 1-新用户 2-续费用户 3-已过期\n                cards: [],\n                pay_type: PAY_TYPE.ALI_APP,\n                select_index: 0,\n                renew_remain: 0,\n                save_money: '',\n                PAY_TYPE,\n                DEFAULT_USER_AVATAR_NEW,\n                MEMBER_0,\n                MEMBER_1,\n                expire_time: '',\n                vip_point_rate: 2,\n                buy_notice: '',      //是否添加续卡确认\n                order_number: ''\n            }\n        },\n        computed: {\n            minimum_price() {\n                let cards = this.cards || [];\n                return cards.length ? cards[cards.length - 1].price : 0\n            },\n            listStyle() {\n                return {\n                    width: Math.ceil(this.covertPx(286 * this.cards.length)) + 1 + 'px'\n                }\n            }\n        },\n        mounted() {\n            let {invite_code} = this.$route.query;\n            this.invite_code = invite_code||'';\n            if (this.user_login) {\n                this.getCards();\n            }\n\n            this.setApp();\n        },\n        methods: {\n            async getCards() {\n                const {data} = await this.$http.get(API.vipApi('card'));\n                if (data) {\n                    const {status, user_status, cards, renew_remain, save_money, expire_time, vip_point_rate, buy_notice} = data;\n\n                    this.log({\n                        cid: 'open_vip',\n                        aid: 'index',\n                        index: status === 1,\n                    });\n\n                    let _cards = cards.reverse();\n                    _cards.forEach((card, index) => {\n                        card.is_activity = card.price !== card.origin_price;\n\n                        if (card.name === '年卡') {\n                            this.select_index = index;\n                        }\n                    });\n\n                    this.status = status;\n                    this.user_status = user_status;\n                    this.cards = _cards;\n                    this.renew_remain = renew_remain;\n                    this.save_money = save_money;\n                    this.expire_time = expire_time;\n                    this.vip_point_rate = vip_point_rate || 2;\n                    this.buy_notice = buy_notice;\n                }\n            },\n            eventCreateOrder(){\n                const _that = this;\n                if(!platform.isApp){\n                    this.$toast('请前往APP购买');\n                    return;\n                }\n                if(this.buy_notice){\n                    this.$confirm({\n                        content: _that.buy_notice,\n                        submitText: '继续支付',\n                        success() {\n                            _that.createOrder();\n                        }\n                    });\n                }else{\n                    this.createOrder();\n                }\n            },\n            async createOrder() {\n                let invite_code = this.invite_code;\n                this.order_number = '';\n                this.log({\n                    cid: 'open_vip',\n                    aid: 'pay_now'\n                });\n\n                const {id: card_id} = this.cards[this.select_index];\n                const {data} = await this.$http.get(API.vipApi('buy'), {\n                    card_id,\n                    pay_type: this.pay_type,\n                    invite_code\n                }, false);\n\n                if (data) {\n                    this.$store.state.loading.isLoading = true;\n                    //标记是否在支付中 true:調起支付 false:支付终止/已返回结果\n                    const {pay_url, order_number, user_status} = data;\n                    local.save('VIP_PAYING',{paying: true, order_number});\n                    this.order_number = order_number;\n                    const goPayResult = () => {\n                        let paying = local.load('VIP_PAYING');\n                        //是否已返回过支付结果\n                        if(!paying.paying) return;\n                        local.update('VIP_PAYING',{paying: false});\n                        this.openUrl({\n                            path: '/vip/payResult',\n                            query: {user_status, invite_code}\n                        });\n                    };\n                    payment.pay({\n                        type: this.pay_type,\n                        pay_url,\n                        order_number,\n                        success: goPayResult,\n                        error: goPayResult\n                    });\n                }\n            },\n\n            selectCard(index) {\n                this.select_index = index;\n            },\n            gotoVipRightDesc() {\n                this.openUrl({path: `https://maicai.api.ddxq.mobi/info/single?alias=green_card_protocol`})\n            },\n            selectPayment(type) {\n                this.pay_type = type;\n            },\n\n            setApp() {\n                if (!platform.isApp) return;\n                //标记特殊来源需要返回到app首页\n                let {back_app} = this.$route.query;\n\n                // 设置顶部样式\n                setTimeout(() => {\n                    bridge.setNavigationBarStyle({style: 1, bar_color: '#2E3748'});\n                },200);\n                back_app && this.eventListenerApp('APP_E6', () => {\n                    this.openUrl({path: '/vip', query: {back_app: 1}});\n                }, true);\n\n                this.visibilityAppShow(()=>{\n                    let _that = this;\n                    let paying = local.load('VIP_PAYING');\n                    if(!paying.paying) return;\n                    setTimeout(()=>{\n                        let paying = local.load('VIP_PAYING');\n                        if(paying.paying){\n                            local.update('VIP_PAYING',{paying: false});\n                            _that.openUrl({\n                                path: '/vip/payResult',\n                                query: {\n                                    user_status: _that.user_status,\n                                    invite_code: _that.invite_code\n                                }\n                            });\n                        }\n                    },3000);\n                });\n            },\n            covertPx(len) {\n                let cw = document.documentElement.clientWidth || 750;\n                return len * cw / 750;\n            }\n        },\n        watch: {\n            user_login() {\n                if (this.user_login) {\n                    this.getCards();\n                }\n            },\n            select_index() {\n                let cardWidth = 286;\n                let screenWidth = 750;\n                let scrollLeft = this.select_index * cardWidth - screenWidth / 2 + cardWidth / 2;\n                this.$nextTick(() => {\n                    this.$refs.listWrap.scrollLeft = this.covertPx(scrollLeft);\n                });\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .vip-pay-wrapper{\n        padding-bottom: 150px;\n    }\n\n    .vip-user-info {\n        height: 130px;\n        padding-left: 30px;\n        padding-top: 20px;\n        box-sizing: border-box;\n        background-color: #2E3748;\n\n        .avatar {\n            float: left;\n            margin-right: 16px;\n\n            img {\n                width: 80px;\n                height: 80px;\n                border-radius: 100%;\n            }\n        }\n\n        .text-wrap {\n            color: #fff;\n\n            .name {\n                padding-top: 6px;\n                font-size: 28px;\n                line-height: 28px;\n                height: 28px;\n                font-weight: bold;\n                position: relative;\n            }\n\n            .member {\n                width: 46px;\n                height: 46px;\n                position: absolute;\n                bottom: -6px;\n                margin-left: 4px;\n            }\n\n            .status {\n                font-size: 26px;\n                line-height: 26px;\n                padding-top: 15px;\n            }\n        }\n    }\n\n    .vip-body {\n        padding-left: 30px;\n    }\n\n    .vip-privilege {\n        padding-top: 40px;\n        padding-right: 30px;\n        text-align: center;\n\n        .title {\n            font-size: 30px;\n        }\n\n        .privilege-list {\n            padding-top: 30px;\n            overflow: hidden;\n            display: flex;\n            flex-direction: row;\n        }\n\n        .privilege-item {\n            flex: auto;\n        }\n\n        .name {\n            padding-top: 12px;\n            color: #666666;\n            font-size: 22px;\n        }\n    }\n\n    .vip-save-text {\n        padding-top: 40px;\n    }\n\n    .vip-pay-cards {\n        padding-top: 40px;\n        width: 100%;\n        height: 268px;\n        padding-left: 30px;\n        margin-left: -30px;\n        overflow-x: auto;\n        overflow-y: hidden;\n        &::-webkit-scrollbar {\n            display: none;\n        }\n\n        .price-list {\n            padding-top: 16px;\n            height: 252px;\n        }\n\n        .price-list-item {\n            float: left;\n            position: relative;\n            width: 260px;\n            height: 252px;\n            padding-left: 31px;\n            padding-right: 18px;\n            box-sizing: border-box;\n            background: #F5F5F5;\n            border-radius: 8px;\n            margin-right: 26px;\n\n            &.selected {\n                background: linear-gradient(141deg, rgba(240, 255, 244, 1) 0%, rgba(222, 255, 233, 1) 100%);\n\n                .price-wrap {\n                    .price {\n                        color: #2FB157;\n                    }\n                }\n            }\n        }\n\n        .discount {\n            position: absolute;\n            left: 0;\n            top: -16px;\n            width: 33PX;\n            height: 16PX;\n            line-height: 17PX;\n            background: linear-gradient(90deg, rgba(254, 98, 99, 1) 0%, rgba(251, 80, 81, 1) 100%);\n            border-radius: 16PX 16PX 16PX 0;\n            font-size: 20px;\n            font-weight: bold;\n            color: #FFFFFF;\n            text-align: center;\n            overflow: hidden;\n        }\n\n        .name {\n            color: #333333;\n            font-size: 28px;\n            line-height: 28px;\n            font-weight: bold;\n            padding-top: 36px;\n            padding-right: 34px;\n        }\n\n        .desc {\n            padding-top: 25px;\n            font-size: 22px;\n            color: #999999;\n            line-height: 30px;\n        }\n\n        .price-wrap {\n            position: absolute;\n            bottom: 26px;\n            left: 0;\n            width: 100%;\n            padding-left: 31px;\n            box-sizing: border-box;\n\n            .price {\n                display: inline-block;\n                font-size: 60px;\n                font-weight: bold;\n                color: #333333;\n                line-height: 60px;\n                margin-right: 10px;\n\n                span {\n                    font-size: 26px;\n                    font-weight: bold;\n                    line-height: 37px;\n                }\n            }\n\n            .origin-price {\n                display: inline-block;\n                font-size: 26px;\n                color: #999999;\n                line-height: 37px;\n            }\n        }\n\n        .check-wrap {\n            position: absolute;\n            width: 20PX;\n            height: 20PX;\n            top: 20px;\n            right: 20px;\n        }\n    }\n\n    .vip-rights-desc {\n        padding-top: 30px;\n        padding-bottom: 40px;\n        text-align: left;\n        line-height: 26px;\n\n        span {\n            font-size: 26px;\n            color: #999999;\n            margin-right: 4px;\n        }\n    }\n\n    .vip-pay-type {\n        padding: 30px 0 0 30px;\n\n        .pay-type {\n            position: relative;\n            height: 100px;\n            line-height: 100px;\n            border-bottom: 2px solid #EEEEEE;\n\n            span {\n                font-size: 32px;\n                color: #333333;\n                margin-left: 10px;\n                display: inline-block;\n            }\n\n            .check-wrap {\n                position: absolute;\n                right: 30px;\n                top: 50%;\n                transform: translateY(-50%);\n                display: block;\n                width: 20PX;\n                height: 20PX;\n            }\n\n            .icon-wx, .icon-ali {\n                display: inline-block;\n            }\n        }\n    }\n\n    .icon-circle {\n        font-style: normal;\n        border-radius: 100%;\n        border: 2px solid rgba(204, 204, 204, 1);\n        width: 20PX;\n        height: 20PX;\n        display: block;\n        box-sizing: border-box;\n    }\n\n    .icon-checked {\n        font-style: normal;\n        border-radius: 100%;\n        width: 20PX;\n        height: 20PX;\n        line-height: 20PX;\n        display: block;\n        background-color: #3CB963;\n        text-align: center;\n    }\n\n    .vip-pay-btn {\n        position: fixed;\n        padding: 30px;\n        width: 100%;\n        box-sizing: border-box;\n        left: 0;\n        bottom: 0;\n        text-align: center;\n        color: #FFFFFF;\n        font-size: 36px;\n        span {\n            display: block;\n            width: 100%;\n            height: 92px;\n            font-weight: bold;\n            line-height: 92px;\n            border-radius: 92px;\n            background: linear-gradient(90deg, rgba(36, 215, 78, 1) 0%, rgba(46, 186, 90, 1) 100%);\n            box-shadow: 0px 6px 10px 0px rgba(76, 234, 114, 0.3);\n        }\n    }\n\n    .m-top20 {\n        border-top: 20px solid #F5F5F5;\n    }\n\n    .title {\n        font-weight: bold;\n        font-size: 32px;\n        color: #333333;\n    }\n\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./VipPay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./VipPay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VipPay.vue?vue&type=template&id=df4fcc82&scoped=true&\"\nimport script from \"./VipPay.vue?vue&type=script&lang=js&\"\nexport * from \"./VipPay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VipPay.vue?vue&type=style&index=0&id=df4fcc82&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df4fcc82\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./VipPay.vue?vue&type=style&index=0&id=df4fcc82&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./VipPay.vue?vue&type=style&index=0&id=df4fcc82&lang=scss&scoped=true&\""],"sourceRoot":""}