(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VipFriends"],{"0f35":function(t,n,i){"use strict";i("20a2");var e=i("113c"),a=i("16bc"),r=i("eba3"),s=i("42a5"),c=i("3098"),o=i("e791"),d=i("c53f"),u=i("f708"),f=i("b893"),p=i("5d2d");n["a"]={mounted:function(){var t=this;this.setApp(),this.waitInit(function(){t.setWx()})},data:function(){var t={},n=p["a"].load("USER_INFO"),i=n.id;if(o["a"].indexOf(this.$path)>=0){var e=this.$route.query.friend_id;t={title:"这一年，我在叮咚买菜的那些柴米油盐",desc:"2018悄悄过去，关于你的小秘密都在这里，最后有惊喜！",friends_title:"这一年，我在叮咚买菜的那些柴米油盐",img_url:a["j"],link:Object(f["g"])("/bill",{friend_id:i||e})}}else t={title:"叮咚买菜，29分钟生鲜到家~",desc:"0配送费0起送价的买菜神器，新人注册还有38元红包哦~",friends_title:"叮咚买菜，29分钟生鲜到家~",img_url:a["c"],link:Object(f["g"])(this.$route.fullPath)};return{common_share_info:t}},computed:{$path:function(){return this.$route.path}},methods:{setWx:function(){if(u["a"].isWeixin){var t=this.common_share_info;d["a"].setShareOption(t)}},setApp:function(){var t=this;if(u["a"].isApp&&!(o["f"].indexOf(this.$path)>=0)){c["a"].APP_E3=s["a"].subscribe(c["a"].APP_E3,function(){o["a"].indexOf(t.$path)>=0&&t.log({cid:"mybill",aid:"share"}),t.appShare()});var n={image:a["b"]};r["a"].setRightTopButton(n)}},appShare:function(){u["a"].isApp&&r["a"].share(Object(e["a"])({},this.common_share_info))},updateShare:function(t){this.common_share_info=Object.assign(this.common_share_info,t||{}),this.setWx()}}}},"16bc":function(t,n,i){"use strict";i.d(n,"b",function(){return a}),i.d(n,"c",function(){return r}),i.d(n,"g",function(){return s}),i.d(n,"h",function(){return c}),i.d(n,"e",function(){return o}),i.d(n,"f",function(){return d}),i.d(n,"d",function(){return u}),i.d(n,"i",function(){return f}),i.d(n,"j",function(){return p}),i.d(n,"l",function(){return l}),i.d(n,"m",function(){return h}),i.d(n,"n",function(){return v}),i.d(n,"o",function(){return m}),i.d(n,"p",function(){return g}),i.d(n,"q",function(){return _}),i.d(n,"r",function(){return b}),i.d(n,"s",function(){return w}),i.d(n,"t",function(){return x}),i.d(n,"u",function(){return y}),i.d(n,"a",function(){return k}),i.d(n,"v",function(){return C}),i.d(n,"k",function(){return S}),i.d(n,"w",function(){return O}),i.d(n,"x",function(){return $});var e=function(t){return"https://img.ddimg.mobi/assets/h5/".concat(t)},a=e("4602b1a87656d1501819113290.png"),r=e("9c3a30349e68a1498706936110.png"),s=e("activity-bill-first-head-log.png"),c=e("activity-bill-first-middle.png"),o=e("activity-bill-first-right-font2.png"),d=e("activity-bill-first-right-font1.png"),u=e("activity-bill-first-bottom.png"),f=e("activity-bill-pack-foot-logo.png"),p=e("activity-bill-share-small-img.png"),l=e("newtask/icon-buy.png"),h=e("newtask/icon-day.png"),v=e("newtask/icon-evaluate.png"),m=e("newtask/icon-fish.png"),g=e("newtask/icon-info.png"),_=e("newtask/icon-invite.png"),b=e("newtask/icon-meat.png"),w=e("newtask/icon-sign.png"),x=e("newtask/icon-vip.png"),y=e("newtask/logo-bottom.png"),k=e("44b2872a591fe1503888813415.png"),C=e("receive-cart-tip.png?v=1"),S=e("give-cart-title.png?v=1"),O=e("vip/member-0.png"),$=e("vip/member-1.png")},"16d7":function(t,n,i){"use strict";var e=i("94a2"),a=i.n(e);a.a},"1e8c":function(t,n,i){"use strict";i.d(n,"a",function(){return e}),i.d(n,"b",function(){return a}),i.d(n,"c",function(){return r});var e="https://www.100.me/mc",a="https://100.me/d",r="https://maicai.api.ddxq.mobi/info/single"},6320:function(t,n,i){"use strict";var e=i("d064"),a=i.n(e);a.a},"94a2":function(t,n,i){},cdf2:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"vip-friends"},[i("div",{staticClass:"friends-banner"},[i("div",{staticClass:"info-enter",on:{click:t.eventUseState}},[t._v("使用说明")]),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.index_banner,expression:"index_banner"}],attrs:{alt:""}})]),i("div",{staticClass:"friends-content"},t._l(t.list,function(n,e){return i("friends-card",{key:e,attrs:{card:n,margin:"15"},on:{clickSend:t.eventToShare}})}))])},a=[],r=i("059d"),s=i.n(r),c=(i("5475"),i("4aee")),o=i("b12f"),d=i("0f35"),u=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"card-part",style:t.partStyle},[i("div",{staticClass:"card-img",class:{on:1===t.card.status||2===t.card.status}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.card.img+"?imageMogr2/thumbnail/!50p",expression:"card.img+'?imageMogr2/thumbnail/!50p'"}],attrs:{alt:""}}),2===t.card.status?i("icon-font",{staticClass:"icon-tag",attrs:{name:"ArtboardCopyx2",size:"116",color:"#3CB963"}}):t._e(),3===t.card.status?i("icon-font",{staticClass:"icon-tag",attrs:{name:"ArtboardCopyx1",size:"116",color:"#858585"}}):t._e(),5===t.card.status?i("icon-font",{staticClass:"icon-tag",attrs:{name:"ArtboardCopyx",size:"116",color:"#858585"}}):t._e(),i("p",{staticClass:"days"},[i("span",[t._v(t._s(t.card.days))]),t._v("天")])],1),i("div",{staticClass:"card-info"},[i("div",{staticClass:"info-title"},[t._v(t._s(t.card.name))]),i("div",{staticClass:"info-desc"},[t._v(t._s(t.card.days)+"天绿卡体验特权")]),i("div",{staticClass:"info-time"},[t._v(t._s(t.card.expire_time)+" 前可赠送")]),1===t.card.status||2===t.card.status?i("div",{staticClass:"info-btn",on:{click:t._eventCard}},[t._v(t._s(2===t.card.status?"再次赠送":"去赠送"))]):t._e()])])},f=[],p={props:["card","margin"],computed:{partStyle:function(){var t={};return this.margin&&(t.marginBottom="".concat(this.margin,"px")),t}},methods:{_eventCard:function(){this.$emit("clickSend",this.card)}}},l=p,h=(i("6320"),i("17cc")),v=Object(h["a"])(l,u,f,!1,null,"3bc7e4d0",null),m=v.exports,g=i("b893"),_=i("1e8c"),b={name:"vip-friends",components:{FriendsCard:m},mixins:[d["a"]],data:function(){return{invite_code:"",share_info:null,index_banner:"",list:""}},mounted:function(){var t=this.$route.query.invite_code;this.invite_code=t||"",this.requestFriends(),this.log({cid:"friends_vip_card",aid:"index"})},methods:{requestFriends:function(){var t=Object(c["a"])(s.a.mark(function t(){var n,i,e,a,r,c,d=arguments;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=!(d.length>0&&void 0!==d[0])||d[0],t.next=3,this.$http.get(o["a"].vipApi("friendsCardList"),{},n);case 3:i=t.sent,e=i.data,e&&(a=e.share_info,r=e.index_banner,c=e.list,this.share_info=a,this.index_banner=r,this.list=c,this.updateShare(a));case 6:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),requestFriendsSend:function(){var t=Object(c["a"])(s.a.mark(function t(n){var i,e;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get(o["a"].vipApi("friendsCardSend"),{card_id:n},!1);case 2:i=t.sent,e=i.data,e&&this.requestFriends(!1);case 5:case"end":return t.stop()}},t,this)}));function n(n){return t.apply(this,arguments)}return n}(),eventUseState:function(){this.openUrl({path:_["c"],query:{alias:"friend_card"}})},eventToShare:function(t){var n=t.id,i=t.status;1===i&&this.requestFriendsSend(n),this.log({cid:"friends_vip_card",aid:1===i?"share":"reshare",name:n}),this.updateShare({link:Object(g["g"])("/vip/friendsGive",{card_id:n})}),this.appShare()}}},w=b,x=(i("16d7"),Object(h["a"])(w,e,a,!1,null,"312d917c",null));n["default"]=x.exports},d064:function(t,n,i){}}]);
//# sourceMappingURL=VipFriends.d41a26f3.js.map