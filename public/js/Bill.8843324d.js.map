{"version":3,"sources":["webpack:///./src/mixins/share.js","webpack:///./src/const/images.js","webpack:///./src/views/Bill.vue?f74b","webpack:///./src/views/Bill.vue?8e50","webpack:///src/views/Bill.vue","webpack:///./src/views/Bill.vue?8e9d","webpack:///./src/views/Bill.vue"],"names":["__webpack_exports__","mounted","_this","this","setApp","waitInit","setWx","data","share_info","_local$load","local","load","uid","id","BILL_WHITE","indexOf","$path","friend_id","$route","query","title","desc","friends_title","img_url","IMG_BILL_SHARE_IMG","link","pageUrl","IMG_APP_SHARE_IMG","fullPath","common_share_info","computed","path","methods","platform","isWeixin","option","weixin","setShareOption","_this2","isApp","SHARE_NO_BUTTON","APP_EVENTS","APP_E3","event","subscribe","log","cid","aid","appShare","buttonOpts","image","IMG_APP_SHARE","bridge","setRightTopButton","share","Object","_Users_xkh_Workhere_activity_m_ddxq_mobi_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","updateShare","options","assign","__webpack_require__","d","IMG_BILL_FIRST_LOGO","IMG_BILL_FIRST_MIDDLE","IMG_BILL_FIRST_FONT_0","IMG_BILL_FIRST_FONT_1","IMG_BILL_FIRST_BOTTOM","IMG_BILL_PACK_LOGO","IMG_NEWTASK_ICON_BUY","IMG_NEWTASK_ICON_DAY","IMG_NEWTASK_ICON_EVALUATE","IMG_NEWTASK_ICON_FISH","IMG_NEWTASK_ICON_INFO","IMG_NEWTASK_ICON_INVITE","IMG_NEWTASK_ICON_MEAT","IMG_NEWTASK_ICON_SIGN","IMG_NEWTASK_ICON_VIP","IMG_NEWTASK_LOGO_BOTTOM","DEFAULT_USER_AVATAR_NEW","IMG_RECEIVE_CART_TIP","IMG_GIVE_CART_TITLE","MEMBER_0","MEMBER_1","h5Img","name","concat","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Bill_vue_vue_type_style_index_0_id_64158086_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Bill_vue_vue_type_style_index_0_id_64158086_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","img_logo","alt","img_middle","_e","img_bottom","img_font_r","img_font_l","is_friend","show_one","data-type","on","click","eventStartBill","_v","staticRenderFns","Billvue_type_script_lang_js_","components","mixins","const_images","show_two","$store","state","loading","isLoading","requestInfo","_requestInfo","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","is_new_user","is_self_new_user","is_self","wrap","_context","prev","next","$http","get","api","userBill","check_user","sent","login","user_info","activity","tools","stop","apply","arguments","watchUser","e","type","target","getAttribute","isNewUser","setTimeout","$router","push","user_login","_ref2","success","reloadWebView","backWebView","isShowLogin","views_Billvue_type_script_lang_js_","component","componentNormalizer"],"mappings":"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","file":"js/Bill.8843324d.js","sourcesContent":["/**\n * 活动分享-mixin\n * @date: 2018/12/20\n * @author: xkh\n */\n\nimport {IMG_BILL_SHARE_IMG, IMG_APP_SHARE, IMG_APP_SHARE_IMG} from \"../const/images\";\nimport {bridge} from '@/utils/native/bridge'\nimport {event} from '@/utils/event'\nimport {APP_EVENTS} from '@/const/event'\nimport {BILL_WHITE, SHARE_NO_BUTTON} from '@/const/white'\nimport {weixin} from '@/utils/weixin'\nimport {platform} from '@/utils/platform'\nimport {pageUrl} from '@/utils/tools'\nimport {local} from '@/utils/storage'\n\nexport default {\n    mounted() {\n        this.setApp();\n        this.waitInit(() => {\n            this.setWx();\n        });\n    },\n    data() {\n        let share_info = {};\n        let {id: uid} = local.load('USER_INFO');\n\n        if (BILL_WHITE.indexOf(this.$path) >= 0) {\n            //账单相关分享信息\n            const {friend_id} = this.$route.query;\n            share_info = {\n                title: '这一年，我在叮咚买菜的那些柴米油盐',\n                desc: '2018悄悄过去，关于你的小秘密都在这里，最后有惊喜！',\n                friends_title: '这一年，我在叮咚买菜的那些柴米油盐',\n                img_url: IMG_BILL_SHARE_IMG,\n                link: pageUrl('/bill', {friend_id: uid || friend_id})\n            }\n        } else {\n            //默认分享信息\n            share_info = {\n                title: '叮咚买菜，29分钟生鲜到家~',\n                desc: '0配送费0起送价的买菜神器，新人注册还有38元红包哦~',\n                friends_title: '叮咚买菜，29分钟生鲜到家~',\n                img_url: IMG_APP_SHARE_IMG,\n                link: pageUrl(this.$route.fullPath)\n            }\n        }\n        return {common_share_info: share_info}\n    },\n    computed: {\n        $path() {\n            return this.$route.path;\n        }\n    },\n    methods: {\n        setWx() {\n            if (!platform.isWeixin) return;\n            const option = this.common_share_info;\n            weixin.setShareOption(option);\n        },\n        setApp() {\n            if (!platform.isApp) return;\n            if (SHARE_NO_BUTTON.indexOf(this.$path) >= 0) return;\n            APP_EVENTS.APP_E3 = event.subscribe(APP_EVENTS.APP_E3, () => {\n                if (BILL_WHITE.indexOf(this.$path) >= 0) {\n                    this.log({\n                        cid: 'mybill',\n                        aid: 'share'\n                    });\n                }\n                this.appShare();\n            });\n            const buttonOpts = {image: IMG_APP_SHARE};\n            bridge.setRightTopButton(buttonOpts);\n        },\n        appShare() {\n            if (!platform.isApp) return;\n            bridge.share({\n                ...this.common_share_info\n            });\n        },\n        //外部更新分享信息 mixin引入\n        updateShare(options) {\n            this.common_share_info = Object.assign(this.common_share_info, options || {});\n            this.setWx();\n        }\n    }\n}","/**\n * @date: 2018/12/14\n * @author: xkh\n */\n\nconst h5Img = (name)=>`https://img.ddimg.mobi/assets/h5/${name}`;\n\n//app分享icon\nexport const IMG_APP_SHARE = h5Img('4602b1a87656d1501819113290.png');\nexport const IMG_APP_SHARE_IMG = h5Img('9c3a30349e68a1498706936110.png');\n\n//2018年度账单\nexport const IMG_BILL_FIRST_LOGO =  h5Img('activity-bill-first-head-log.png');\nexport const IMG_BILL_FIRST_MIDDLE = h5Img('activity-bill-first-middle.png');\nexport const IMG_BILL_FIRST_FONT_0 = h5Img('activity-bill-first-right-font2.png');\nexport const IMG_BILL_FIRST_FONT_1 = h5Img('activity-bill-first-right-font1.png');\nexport const IMG_BILL_FIRST_BOTTOM = h5Img('activity-bill-first-bottom.png');\nexport const IMG_BILL_PACK_LOGO = h5Img('activity-bill-pack-foot-logo.png');\nexport const IMG_BILL_SHARE_IMG = h5Img('activity-bill-share-small-img.png');\n\n//新手任务\nexport const IMG_NEWTASK_ICON_BUY = h5Img('newtask/icon-buy.png');\nexport const IMG_NEWTASK_ICON_DAY = h5Img('newtask/icon-day.png');\nexport const IMG_NEWTASK_ICON_EVALUATE = h5Img('newtask/icon-evaluate.png');\nexport const IMG_NEWTASK_ICON_FISH = h5Img('newtask/icon-fish.png');\nexport const IMG_NEWTASK_ICON_INFO = h5Img('newtask/icon-info.png');\nexport const IMG_NEWTASK_ICON_INVITE = h5Img('newtask/icon-invite.png');\nexport const IMG_NEWTASK_ICON_MEAT = h5Img('newtask/icon-meat.png');\nexport const IMG_NEWTASK_ICON_SIGN = h5Img('newtask/icon-sign.png');\nexport const IMG_NEWTASK_ICON_VIP = h5Img('newtask/icon-vip.png');\nexport const IMG_NEWTASK_LOGO_BOTTOM = h5Img('newtask/logo-bottom.png');\n\nexport const DEFAULT_USER_AVATAR_NEW =h5Img('44b2872a591fe1503888813415.png');\nexport const IMG_RECEIVE_CART_TIP = h5Img('receive-cart-tip.png?v=1');\nexport const IMG_GIVE_CART_TITLE = h5Img('give-cart-title.png?v=1');\n\n// 开通绿卡\nexport const MEMBER_0 = h5Img('vip/member-0.png');\nexport const MEMBER_1 = h5Img('vip/member-1.png');\n","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Bill.vue?vue&type=style&index=0&id=64158086&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Bill.vue?vue&type=style&index=0&id=64158086&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bill-wrapper\"},[_c('div',{staticClass:\"bill-logo\"},[_c('img',{attrs:{\"src\":_vm.img_logo,\"alt\":\"\"}})]),_c('div',{staticClass:\"bill-middle\"},[_c('img',{attrs:{\"src\":_vm.img_middle,\"alt\":\"\"}}),_c('transition',{attrs:{\"name\":\"cover-page\"}},[(_vm.show_two)?_c('div',{staticClass:\"bill-middle-cover\"}):_vm._e()])],1),_c('div',{staticClass:\"bill-bottom\"},[_c('img',{attrs:{\"src\":_vm.img_bottom,\"alt\":\"\"}})]),_c('transition',{attrs:{\"name\":\"font-r\"}},[(_vm.show_one)?_c('div',{staticClass:\"bill-font-r\"},[_c('img',{attrs:{\"src\":_vm.img_font_r,\"alt\":\"\"}})]):_vm._e()]),_c('transition',{attrs:{\"name\":\"font-l\"}},[(_vm.show_one)?_c('div',{staticClass:\"bill-font-l\"},[_c('img',{attrs:{\"src\":_vm.img_font_l,\"alt\":\"\"}})]):_vm._e()]),(!_vm.is_friend && _vm.show_one)?_c('div',{staticClass:\"bill-start\"},[_c('div',{staticClass:\"start-btn-border\"}),_c('div',{staticClass:\"start-btn\",attrs:{\"data-type\":\"0\"},on:{\"click\":_vm.eventStartBill}},[_vm._v(\"开启我的年度账单\")])]):_vm._e(),(!!_vm.is_friend && _vm.show_one)?_c('div',{staticClass:\"bill-start-share\"},[_c('div',{staticClass:\"start-btn-friend\",attrs:{\"data-type\":\"1\"},on:{\"click\":_vm.eventStartBill}},[_vm._v(\"查看好友账单\")]),_c('div',{staticClass:\"start-btn\",attrs:{\"data-type\":\"0\"},on:{\"click\":_vm.eventStartBill}},[_vm._v(\"开启我的年度账单\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"bill-wrapper\">\r\n        <div class=\"bill-logo\">\r\n            <img :src=\"img_logo\" alt=\"\">\r\n        </div>\r\n        <div class=\"bill-middle\">\r\n            <img :src=\"img_middle\" alt=\"\">\r\n            <transition name=\"cover-page\">\r\n                <div class=\"bill-middle-cover\" v-if=\"show_two\"></div>\r\n            </transition>\r\n        </div>\r\n        <div class=\"bill-bottom\">\r\n            <img :src=\"img_bottom\" alt=\"\">\r\n        </div>\r\n        <transition name=\"font-r\">\r\n            <div class=\"bill-font-r\" v-if=\"show_one\">\r\n                <img :src=\"img_font_r\" alt=\"\">\r\n            </div>\r\n        </transition>\r\n        <transition name=\"font-l\">\r\n            <div class=\"bill-font-l\" v-if=\"show_one\">\r\n                <img :src=\"img_font_l\" alt=\"\">\r\n            </div>\r\n        </transition>\r\n        <div class=\"bill-start\" v-if=\"!is_friend && show_one\">\r\n            <div class=\"start-btn-border\"></div>\r\n            <div class=\"start-btn\" data-type='0' @click=\"eventStartBill\">开启我的年度账单</div>\r\n        </div>\r\n        <div class=\"bill-start-share\" v-if=\"!!is_friend && show_one\">\r\n            <div class=\"start-btn-friend\" data-type='1' @click=\"eventStartBill\">查看好友账单</div>\r\n            <div class=\"start-btn\" data-type='0' @click=\"eventStartBill\">开启我的年度账单</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import share from '@/mixins/share'\r\n    import {\r\n        IMG_BILL_FIRST_LOGO,\r\n        IMG_BILL_FIRST_MIDDLE,\r\n        IMG_BILL_FIRST_BOTTOM,\r\n        IMG_BILL_FIRST_FONT_0,\r\n        IMG_BILL_FIRST_FONT_1\r\n    } from '@/const/images'\r\n    import {platform} from '@/utils/platform'\r\n    import {bridge} from '@/utils/native/bridge'\r\n    import {pageUrl} from '@/utils/tools'\r\n    import API from '@/server/api'\r\n\r\n\r\n    export default {\r\n        name: 'bill',\r\n        components: {},\r\n        mixins: [share],\r\n        data() {\r\n            return {\r\n                img_logo: IMG_BILL_FIRST_LOGO,\r\n                img_middle: IMG_BILL_FIRST_MIDDLE,\r\n                img_bottom: IMG_BILL_FIRST_BOTTOM,\r\n                img_font_r: IMG_BILL_FIRST_FONT_1,\r\n                img_font_l: IMG_BILL_FIRST_FONT_0,\r\n                show_one: false,\r\n                show_two: false,\r\n                friend_id: '',\r\n\r\n                is_friend: 0\r\n            }\r\n        },\r\n        mounted() {\r\n            let {friend_id} = this.$route.query;\r\n            this.friend_id = friend_id;\r\n            if (friend_id) {\r\n                this.is_friend = !!friend_id;\r\n                this.$store.state.loading.isLoading = true;\r\n            }\r\n            this.show_one = true;\r\n            this.waitInit(()=>{\r\n                this.$store.state.loading.isLoading = false;\r\n                this.log({\r\n                    cid: (typeof this.friend_id !== 'undefined')?'mybill_load':'mybill',\r\n                    aid: 'index'\r\n                });\r\n            });\r\n        },\r\n        methods: {\r\n            async requestInfo() {\r\n                let {friend_id} = this.$route.query;\r\n                const {data} = await this.$http.get(API.userBill('detailInfo'), {check_user: 1, friend_id}, false);\r\n                if (data) {\r\n                    let {is_friend, is_new_user, is_self_new_user} = data;\r\n                    let is_self = friend_id ? is_self_new_user : is_new_user;\r\n                    let {id} = this.$store.state.login.user_info;\r\n                    this.is_friend = is_friend;\r\n                    this.$store.state.activity.is_new_user = is_self;\r\n                    this.updateShare({link: pageUrl('/bill', {friend_id: is_self ? '' : id})})\r\n                }\r\n                this.$store.state.loading.isLoading = false;\r\n            },\r\n            watchUser() {\r\n                this.requestInfo();\r\n            },\r\n            eventStartBill(e) {\r\n                let type = e.target.getAttribute('data-type');\r\n                let isNewUser = this.$store.state.activity.is_new_user;\r\n                if (type === '1') {\r\n                    this.log({\r\n                        cid: 'mybill_load',\r\n                        aid: 'view_friends'\r\n                    });\r\n                    this.show_two = true;\r\n                    setTimeout(() => {\r\n                        this.$router.push({path: '/bill/detail', query: {friend_id: this.friend_id}})\r\n                    }, 1000)\r\n                }\r\n                if (type === '0') {\r\n                    this.log({\r\n                       cid: 'mybill',\r\n                       aid: 'open'\r\n                    });\r\n                    if (this.$store.state.login.user_login) {\r\n                        this.show_two = true;\r\n                        setTimeout(() => {\r\n                            this.$router.push({path: isNewUser?'/bill/pack':'/bill/detail'});\r\n                        }, 1000)\r\n                    } else {\r\n                        if (platform.isApp) {\r\n                            bridge.login(({success}) => {\r\n                                if (success) {\r\n                                    bridge.reloadWebView();\r\n                                } else {\r\n                                    bridge.backWebView();\r\n                                }\r\n                            });\r\n                        } else {\r\n                            this.$store.state.login.isShowLogin = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .bill-wrapper {\r\n        position: absolute;\r\n        min-height: 100%;\r\n        overflow: hidden;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background-image: url('https://img.ddimg.mobi/assets/h5/activity-bill-first-bg.png');\r\n        img {\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n\r\n    .bill-logo {\r\n        position: absolute;\r\n        left: 80px;\r\n        top: 80px;\r\n        width: 189px;\r\n        height: 58px;\r\n    }\r\n\r\n    .bill-middle {\r\n        position: absolute;\r\n        top: 20%;\r\n        width: 497px;\r\n        height: 721px;\r\n        z-index: 1;\r\n        .bill-middle-cover {\r\n            position: absolute;\r\n            left: 10%;\r\n            top: 33%;\r\n            background: $color_f;\r\n            width: 300px;\r\n            height: 300px;\r\n            border-radius: 100%;\r\n            z-index: 1;\r\n            transform: scale(0, 0);\r\n        }\r\n    }\r\n\r\n    .bill-bottom {\r\n        position: absolute;\r\n        left: 0;\r\n        height: 600px;\r\n        right: 0;\r\n        bottom: 0;\r\n    }\r\n\r\n    .bill-font-r {\r\n        position: absolute;\r\n        width: 61px;\r\n        height: 763px;\r\n        top: 5%;\r\n        right: 46px;\r\n    }\r\n\r\n    .bill-font-l {\r\n        position: absolute;\r\n        width: 61px;\r\n        height: 828px;\r\n        top: 10%;\r\n        right: 146px;\r\n    }\r\n\r\n    .bill-start {\r\n        position: absolute;\r\n        bottom: 6%;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        .start-btn {\r\n            width: 330px;\r\n            height: 90px;\r\n            line-height: 92px;\r\n            border-radius: 90px;\r\n            background: $color_f;\r\n            font-size: 34px;\r\n            color: $color_g;\r\n            font-weight: bold;\r\n            text-align: center;\r\n        }\r\n        .start-btn-border {\r\n            position: absolute;\r\n            border-radius: 120px;\r\n            width: 330px;\r\n            height: 90px;\r\n            background: rgba(255, 255, 255, .5);\r\n            z-index: -1;\r\n        }\r\n    }\r\n\r\n    .bill-start-share {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        position: absolute;\r\n        width: 100%;\r\n        padding: 0 25px;\r\n        box-sizing: border-box;\r\n        bottom: 6%;\r\n        .start-btn-friend {\r\n            width: 267px;\r\n            height: 82px;\r\n            line-height: 86px;\r\n            border-radius: 90px;\r\n            border: 4px solid $color_f;\r\n            font-size: 34px;\r\n            color: $color_f;\r\n            font-weight: bold;\r\n            text-align: center;\r\n        }\r\n        .start-btn {\r\n            width: 330px;\r\n            height: 90px;\r\n            line-height: 92px;\r\n            border-radius: 90px;\r\n            background: $color_f;\r\n            font-size: 34px;\r\n            color: $color_g;\r\n            font-weight: bold;\r\n            text-align: center;\r\n        }\r\n    }\r\n\r\n    /* 动画 */\r\n    .font-r-enter-active, .font-l-enter-active {\r\n        transition: all .8s ease-in;\r\n    }\r\n\r\n    .font-r-enter {\r\n        right: 4px;\r\n        opacity: 0;\r\n    }\r\n\r\n    .font-l-enter {\r\n        right: 188px;\r\n        opacity: 0;\r\n    }\r\n\r\n    .cover-page-enter-active {\r\n        animation: bounce-in-cover 2s ease;\r\n    }\r\n\r\n    .start-btn-border {\r\n        animation: bounce-in 1.5s ease 0s infinite normal;\r\n    }\r\n\r\n    @keyframes bounce-in {\r\n        0% {\r\n            transform: scale(1, 1);\r\n        }\r\n        60% {\r\n            transform: scale(1.06, 1.22);\r\n        }\r\n        100% {\r\n            transform: scale(1, 1);\r\n        }\r\n    }\r\n\r\n    @keyframes bounce-in-cover {\r\n        0% {\r\n            opacity: 0;\r\n            transform: scale(0, 0);\r\n        }\r\n        20% {\r\n            opacity: 1;\r\n        }\r\n        100% {\r\n            opacity: 1;\r\n            transform: scale(8, 8);\r\n        }\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Bill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Bill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bill.vue?vue&type=template&id=64158086&scoped=true&\"\nimport script from \"./Bill.vue?vue&type=script&lang=js&\"\nexport * from \"./Bill.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bill.vue?vue&type=style&index=0&id=64158086&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64158086\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}