(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Vip"],{"0208":function(t,i,e){"use strict";var s=e("96d2"),a=e.n(s);a.a},"0d5f":function(t,i,e){"use strict";var s=e("7e1c"),a=e.n(s);a.a},"16bc":function(t,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"c",function(){return n}),e.d(i,"g",function(){return o}),e.d(i,"h",function(){return c}),e.d(i,"e",function(){return r}),e.d(i,"f",function(){return l}),e.d(i,"d",function(){return p}),e.d(i,"i",function(){return d}),e.d(i,"j",function(){return u}),e.d(i,"l",function(){return _}),e.d(i,"m",function(){return v}),e.d(i,"n",function(){return f}),e.d(i,"o",function(){return h}),e.d(i,"p",function(){return m}),e.d(i,"q",function(){return g}),e.d(i,"r",function(){return C}),e.d(i,"s",function(){return b}),e.d(i,"t",function(){return y}),e.d(i,"u",function(){return w}),e.d(i,"a",function(){return k}),e.d(i,"v",function(){return x}),e.d(i,"k",function(){return I}),e.d(i,"w",function(){return S}),e.d(i,"x",function(){return P});var s=function(t){return"https://img.ddimg.mobi/assets/h5/".concat(t)},a=s("4602b1a87656d1501819113290.png"),n=s("9c3a30349e68a1498706936110.png"),o=s("activity-bill-first-head-log.png"),c=s("activity-bill-first-middle.png"),r=s("activity-bill-first-right-font2.png"),l=s("activity-bill-first-right-font1.png"),p=s("activity-bill-first-bottom.png"),d=s("activity-bill-pack-foot-logo.png"),u=s("activity-bill-share-small-img.png"),_=s("newtask/icon-buy.png"),v=s("newtask/icon-day.png"),f=s("newtask/icon-evaluate.png"),h=s("newtask/icon-fish.png"),m=s("newtask/icon-info.png"),g=s("newtask/icon-invite.png"),C=s("newtask/icon-meat.png"),b=s("newtask/icon-sign.png"),y=s("newtask/icon-vip.png"),w=s("newtask/logo-bottom.png"),k=s("44b2872a591fe1503888813415.png"),x=s("receive-cart-tip.png?v=1"),I=s("give-cart-title.png?v=1"),S=s("vip/member-0.png"),P=s("vip/member-1.png")},"1ad6":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("transition",{attrs:{name:"box"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.popShow,expression:"popShow"}],staticClass:"mask-pop",on:{click:t._closePop}})]),e("transition",{attrs:{name:"box-content"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.popShow,expression:"popShow"}],staticClass:"pop-box",class:"theme-"+t.theme,on:{click:function(t){t.stopPropagation()}}},["0"===t.theme?e("icon-font",{staticClass:"close-icon",attrs:{name:"guanbiyoushangjiao",color:"#cccccc",size:"30"},on:{click:t._closePop}}):t._e(),"1"===t.theme?e("icon-font",{staticClass:"close-icon",class:"theme-"+t.theme,attrs:{name:"gouwuchedankuangguanbi",color:"#ffffff",size:"50"},on:{click:t._closePop}}):t._e(),t._t("default")],2)])],1)},a=[],n={name:"pop-box",props:{show:{default:!1,type:Boolean},theme:{default:"0",type:String}},data:function(){return{popShow:this.show}},watch:{show:function(){this.popShow=this.show}},methods:{_closePop:function(){this.$emit("clickClosePop"),this.popShow=!1}}},o=n,c=(e("d53f"),e("17cc")),r=Object(c["a"])(o,s,a,!1,null,"7554a576",null);i["a"]=r.exports},"25f1":function(t,i,e){},3542:function(t,i){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},3584:function(t,i,e){},"37e1":function(t,i,e){},4551:function(t,i,e){},6228:function(t,i,e){},"7e1c":function(t,i,e){},"84fb":function(t,i,e){"use strict";var s=e("53da"),a=e("7a57"),n=e("af55"),o=e("69d8"),c=e("4b3d"),r=e("cce3"),l=e("e853").f,p=e("8566").f,d=e("9a0d").f,u=e("d079").trim,_="Number",v=s[_],f=v,h=v.prototype,m=n(e("e177")(h))==_,g="trim"in String.prototype,C=function(t){var i=c(t,!1);if("string"==typeof i&&i.length>2){i=g?i.trim():u(i,3);var e,s,a,n=i.charCodeAt(0);if(43===n||45===n){if(e=i.charCodeAt(2),88===e||120===e)return NaN}else if(48===n){switch(i.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+i}for(var o,r=i.slice(2),l=0,p=r.length;l<p;l++)if(o=r.charCodeAt(l),o<48||o>a)return NaN;return parseInt(r,s)}}return+i};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var i=arguments.length<1?0:t,e=this;return e instanceof v&&(m?r(function(){h.valueOf.call(e)}):n(e)!=_)?o(new f(C(i)),e,v):C(i)};for(var b,y=e("f711")?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)a(f,b=y[w])&&!a(v,b)&&d(v,b,p(f,b));v.prototype=h,h.constructor=v,e("7e22")(s,_,v)}},"8b11":function(t,i,e){"use strict";var s=e("3584"),a=e.n(s);a.a},"910f":function(t,i,e){"use strict";var s=e("c7e4"),a=e.n(s);a.a},"96d2":function(t,i,e){},"97df":function(t,i,e){"use strict";var s=e("6228"),a=e.n(s);a.a},"981f":function(t,i,e){"use strict";var s=e("25f1"),a=e.n(s);a.a},c7e4:function(t,i,e){},d079:function(t,i,e){var s=e("8718"),a=e("5b8a"),n=e("cce3"),o=e("3542"),c="["+o+"]",r="​",l=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),d=function(t,i,e){var a={},c=n(function(){return!!o[t]()||r[t]()!=r}),l=a[t]=c?i(u):o[t];e&&(a[e]=l),s(s.P+s.F*c,"String",a)},u=d.trim=function(t,i){return t=String(a(t)),1&i&&(t=t.replace(l,"")),2&i&&(t=t.replace(p,"")),t};t.exports=d},d53f:function(t,i,e){"use strict";var s=e("4551"),a=e.n(s);a.a},df1c:function(t,i,e){"use strict";var s=e("37e1"),a=e.n(s);a.a},e690:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"domVip",staticClass:"vip-wrapper",class:{pos:t.card_continue||1!==t.status&&t.card_float}},[0===t.status&&t.load_banner?e("div",{staticClass:"vip-not-banner"},[e("div",{staticClass:"vip-not-img",style:t.styleBanner},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.load_banner,expression:"load_banner"}],attrs:{alt:""}})])]):t._e(),0!==t.status?e("div",{staticClass:"vip-banner"},[e("div",{staticClass:"banner-content"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"avatar"},[e("img",{staticClass:"image",attrs:{src:t.user.avatar||t.default_avatar,alt:""}})]),e("div",{staticClass:"desc"},[e("div",{staticClass:"desc-user"},[e("span",{staticClass:"name"},[t._v(t._s(t.user.username))])]),e("div",{staticClass:"desc-wrap"},[0===t.status?e("div",{staticClass:"status"},[t._v("当前未开通")]):t._e(),1===t.status?e("div",{staticClass:"desc-date"},[t._v(t._s(t.expire_time)+"到期")]):t._e(),2===t.status?e("div",{staticClass:"status"},[t._v("已到期")]):t._e()])]),t.renew_remain?e("div",{staticClass:"suggest-into",on:{click:function(i){t.eventVipPay({position:"head"})}}},[e("span",{staticClass:"vip-icon-card"}),e("div",{staticClass:"suggest-text"},[t._v(t._s(t.card_rebate)+"续卡")]),e("icon-font",{staticClass:"suggest-icon",attrs:{name:"Jiantou",color:"#ffffff",size:"28"}})],1):t._e()]),0!==t.status?e("div",{staticClass:"save-money"},[t._v("\n                已为您节省"),e("span",[t._v(t._s(t.save_money))]),t._v("元\n                "),e("icon-font",{attrs:{name:"jisuanqi",color:"#2E3748",size:"30"},on:{click:t.eventSaveChange}})],1):t._e(),0===t.status?e("div",{staticClass:"save-money"},[t._v("开通绿卡预计平均每单省"),e("span",[t._v("6.96")]),t._v("元")]):t._e(),e("div",{staticClass:"already-special"},[e("div",{staticClass:"td-part"},[e("span",[t._v("已领券")]),e("span",[e("strong",[t._v(t._s(t.ticket_num))]),t._v("张")])]),e("div",{staticClass:"td-part"},[e("span",[t._v("已返积分")]),e("span",[e("strong",[t._v(t._s(t.point_num))])])]),e("div",{staticClass:"td-part"},[e("span",[t._v("已享特价商品")]),e("span",[e("strong",[t._v(t._s(t.product_num))]),t._v("件")])])]),e("pop-box",{attrs:{show:t.showSave},on:{clickClosePop:t.eventSaveChange}},[e("div",{staticClass:"save-content"},[e("div",{staticClass:"save-title"},[t._v("已为您节省总计")]),e("div",{staticClass:"save-price-all"},[t._v("￥"+t._s(t.save_money))]),e("div",{staticClass:"save-list"},[e("div",{staticClass:"save-part"},[e("span",[t._v("绿卡专享价")]),e("span",[t._v("￥"+t._s(t.save_product_money))])]),e("div",{staticClass:"save-part"},[e("span",[t._v("绿卡专享优惠券")]),e("span",[t._v("￥"+t._s(t.save_coupon_money))])]),e("div",{staticClass:"save-part"},[e("span",[t._v("购物额外返积分")]),e("span",[t._v("￥"+t._s(t.save_point_money))])])])])])],1)]):t._e(),e("div",{staticClass:"vip-privilege"},[e("div",{staticClass:"vip-title-one"},[t._v("绿卡特权")]),e("privilege-list",{attrs:{isVip:t.is_vip,vipPointRate:t.vip_point_rate,friends_card:t.friends_card}})],1),1!==t.status?e("div",{staticClass:"vip-open-up",class:{top:t.is_activity}},[e("div",{staticClass:"vip-open-up-btn",on:{click:function(i){t.eventVipPay({position:"head"})}}},[t.is_activity?e("span",{staticClass:"open-up-tag"},[t._v(t._s(1===t.user_status?"限时首购专享":"限时特惠"))]):t._e(),e("span",{staticClass:"open-up-text"},[t._v(t._s(t.card_rebate?t.card_rebate:"立即")+"开通绿卡")])])]):t._e(),t.friends_card?e("div",{staticClass:"vip-friends m-top20"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showGuide,expression:"showGuide"}],staticClass:"friends-mask",on:{click:t.eventGuideMask}}),e("div",{staticClass:"friends-part",class:{position:t.showGuide}},[t._m(0),e("div",{staticClass:"vip-title-small"},[e("span",[t._v("还有"+t._s(t.friends_card.can_send_nums)+"张亲友卡待送出")])]),e("div",{staticClass:"friends-send",on:{click:function(i){return i.stopPropagation(),t.eventGuideSend(i)}}},[t._v(t._s(t.friends_card.can_send_nums?"去赠送":"去查看"))]),t.showGuide?e("div",{staticClass:"guide-title"},[e("icon-font",{attrs:{name:"CombinedShapex",size:"60",color:"#ffffff"}}),e("p",{staticClass:"guide-text"},[t._v("点这里去赠送亲友卡")])],1):t._e()])]):t._e(),t.today_ticket.tickets||t.week_ticket.tickets?e("div",{ref:"domCoupons",staticClass:"vip-coupons m-top20"},[1!==t.status?e("div",{staticClass:"vip-title-one"},[e("icon-font",{staticClass:"title-tag",attrs:{name:"icon-test",color:"#3CB963"}}),e("span",[t._v("绿卡专享券 每月不低于292元")])],1):t._e(),1===t.status?e("div",{staticClass:"vip-title-one"},[e("span",[t._v("绿卡专享券")])]):t._e(),t.today_ticket.tickets?e("div",{staticClass:"coupon-today"},[e("div",{staticClass:"vip-title-small"},[e("span",[t._v("今日专享券")]),t._v("\n                "+t._s(t.today_ticket.notice)+"\n            ")]),e("div",{staticClass:"coupon-list"},t._l(t.today_ticket.tickets,function(i,s){return e("coupon-item",{key:s,attrs:{coupon:i,options:{type:1,index:s}},on:{clickUseCoupon:t.eventUseCoupon,clickGetCoupon:t.eventGetCoupon}})}))]):t._e(),t.week_ticket.tickets?e("div",{staticClass:"week-today"},[e("div",{staticClass:"vip-title-small"},[e("span",[t._v("本周专享券")]),t._v("\n                "+t._s(1===t.status?t.week_ticket.notice:"")+"\n            ")]),e("div",{staticClass:"coupon-list"},t._l(t.week_ticket.tickets,function(i,s){return e("coupon-item",{key:s,attrs:{coupon:i,options:{type:2,index:s}},on:{clickUseCoupon:t.eventUseCoupon,clickGetCoupon:t.eventGetCoupon}})}))]):t._e()]):t._e(),1!==t.status?e("div",{staticClass:"vip-integral-speed m-top20"},[e("div",{staticClass:"vip-title-one"},[e("icon-font",{staticClass:"title-tag",attrs:{name:"Group1",color:"#3CB963"}}),e("span",[t._v("积分加速 可抵现")])],1),e("div",{staticClass:"speed-content"},[e("div",{staticClass:"speed-part-banner"},[t._m(1),e("div",{staticClass:"text-part-right"},[e("span",{staticClass:"text-span"},[t._v("开通绿卡购物")]),e("span",{staticClass:"text-span"},[t._v("返积分为"),e("strong",[t._v(t._s(t.vip_point_rate)+"倍")])])])]),e("div",{staticClass:"integral-info",on:{click:t.eventGoIntegral}},[e("span",[t._v("积分说明")]),e("icon-font",{attrs:{name:"shuomingx",color:"#999999",align:"true"}})],1),e("div",{staticClass:"vip-open-up-btn",on:{click:function(i){t.eventVipPay({position:"speed"})}}},[e("span",{staticClass:"open-up-text"},[t._v("立即开启积分加速")])])])]):t._e(),e("div",{staticClass:"vip-products m-top20"},[e("div",{staticClass:"vip-title-one"},[1!==t.status?e("icon-font",{staticClass:"title-tag",attrs:{name:"Group",color:"#3CB963"}}):t._e(),e("span",[t._v("绿卡专享特价")])],1),e("div",{ref:"domTabProduct",staticClass:"tab-wrapper"},[e("div",{staticClass:"tab-content-box"},[e("tab-nav",{class:{pos:t.tabs_float},attrs:{tabList:t.tabs},on:{onSelectTab:t.onSelectTab}})],1),e("div",{staticClass:"product-content"},[t.products_list.length?e("div",t._l(t.products_list,function(i,s){return e("lazy-component",{key:s},[e("product-item",{attrs:{product:i,mode:1,isVip:t.is_vip}})],1)})):t._e(),e("load-more",{attrs:{show:t.going}}),t.products_list.length?t._e():e("div",{staticClass:"product-empty"},[t._v("该分类暂无绿卡特价商品")]),t.products_list.length&&!t.is_more?e("div",{staticClass:"product-no-more"},[t._v("更多特权敬请期待...")]):t._e(),t.tabs_float?e("div",{staticClass:"to-top-icon-wrapper",class:{"to-bottom":!t.card_float},on:{click:function(i){t.animatePos(0)}}},[e("icon-font",{attrs:{name:"huidaodingbu",size:"34",color:"#cccccc"}})],1):t._e()],1)])]),1!==t.status&&t.card_float?e("div",{staticClass:"vip-bottom-ad"},[e("div",{staticClass:"bottom-ad-part"},[t.is_activity?e("span",{staticClass:"open-up-tag"},[t._v(t._s(1===t.user_status?"限时首购专享":"限时特惠"))]):t._e(),e("div",{staticClass:"bottom-ad-text"},[e("span",[t._v(t._s(t.card_name))]),t.card_price?e("span",{staticClass:"day"},[t._v(t._s(t.card_price)+"元")]):t._e(),t.is_activity?e("s",[t._v(t._s(t.card_origin_price)+"元")]):t._e(),e("span",{staticClass:"angle"})]),e("span",{staticClass:"bottom-ad-btn",on:{click:function(i){t.eventVipPay({position:"bottom"})}}},[t._v("开通绿卡")])])]):t._e(),1===t.status&&t.card_continue?e("div",{staticClass:"vip-bottom-ad"},[e("div",{staticClass:"bottom-ad-part"},[e("span",{staticClass:"bottom-ad-btn",on:{click:function(i){t.eventVipPay({position:"bottom"})}}},[t._v(t._s(t.card_rebate)+"续卡")]),e("div",{staticClass:"bottom-ad-text"},[e("span",[t._v("距离绿卡到期还有")]),e("span",{staticClass:"day"},[t._v(t._s(t.renew_remain)+"天")])])])]):t._e(),e("pop-box",{attrs:{show:t.showFriends,theme:"1"},on:{clickClosePop:t.eventFriendsChange}},[e("div",{staticClass:"friends-pop"},[e("div",{staticClass:"friends-title"},[t._v("尊敬的绿卡会员，恭喜你，获得亲友卡赠送内测资格！")]),e("div",{staticClass:"friends-img"}),e("div",{staticClass:"friends-send-btn",on:{click:t.eventFriends}},[t._v("立即体验")])])])],1)},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"vip-title-one"},[e("span",[t._v("亲友卡")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"text-part-left"},[e("span",{staticClass:"text-span"},[t._v("您当前购物")]),e("span",{staticClass:"text-span"},[t._v("返积分为"),e("strong",[t._v("1倍")])])])}],n=(e("cf54"),e("113c")),o=e("059d"),c=e.n(o),r=(e("5475"),e("4aee")),l=e("b12f"),p=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"privilege-content"},t._l(t.privilegeData,function(i,s){return e("div",{key:s,staticClass:"content-list-part",on:{click:function(e){t._eventSelect({privilege:i,privilege_index:s})}}},[e("div",{staticClass:"part-icon"},[e("icon-font",{attrs:{name:i.icon,size:"80",color:t.privilege_index===s?"#3CB963":"#666666"}}),e("div",{staticClass:"name"},[t._v(t._s(i.title))]),e("div",{staticClass:"desc"},[t._v(t._s(i.desc))]),i.test?e("div",{staticClass:"test"},[t._v("内测")]):t._e()],1)])})),t.privilege_text.length?e("div",{staticClass:"privilege-detail"},[e("icon-font",{staticClass:"detail-close",attrs:{name:"delete"},on:{click:t._eventCloseDetail}}),t._l(t.privilege_text,function(i,s){return e("span",{key:s},[t._v(t._s(i))])})],2):t._e()])},d=[],u={props:["isVip","vipPointRate","friends_card"],data:function(){return{privilege_text:[],privilege_index:null}},computed:{privilegeData:function(){var t=[{icon:"lvqiazhuanxiangquanx",title:"专享券",desc:"不低于292元/月",info:["开通绿卡后每天专享券领不停；","每周还可领取额外专享券"]},{icon:"zhuanxiangtejiax",title:"专享特价",desc:"每周五更新",info:["每周大量绿卡专享特价商品；","请留意绿卡价标识"]},{icon:"beijifenx",title:"".concat(this.vipPointRate||2,"倍积分"),desc:"积分可抵现",info:["购物根据实付金额返".concat(this.vipPointRate||2,"倍积分")]},{icon:"gengduotequanx",title:"更多特权",desc:"敬请期待",info:["更多特权敬请期待"]}];if(this.friends_card){var i=this.friends_card.config_nums;t.splice(3,0,{icon:"qinyoukax",title:"亲友卡x".concat(i),desc:"亲友免费领",info:["开通年卡，即可获得亲友卡","赠送给亲友后，亲友可获得相应的绿卡体验期"],test:!0})}return t}},methods:{_eventSelect:function(t){var i=t.privilege,e=t.privilege_index;this.privilege_text=i.info,this.privilege_index=e,this.log({cid:"my_vip",aid:"my_privilege",index:this.isVip})},_eventCloseDetail:function(){this.privilege_text=[],this.privilege_index=null}}},_=u,v=(e("0d5f"),e("17cc")),f=Object(v["a"])(_,p,d,!1,null,"a9af8c28",null),h=f.exports,m=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"coupon-part",on:{click:t._eventCoupon}},[e("div",{staticClass:"coupon-part-content"},[t.coupon.is_receive?e("span",{staticClass:"coupon-get"}):t._e(),e("div",{staticClass:"coupon-money"},[e("span",[t._v("￥")]),e("span",{staticClass:"money"},[t._v(t._s(t.coupon.money))])]),e("div",{staticClass:"coupon-condition"},[t._v("满"+t._s(t.coupon.pay_min)+"元使用")]),e("div",{staticClass:"coupon-desc"},[t._v(t._s(t.coupon.description))])]),e("div",{staticClass:"coupon-part-btns"},[t.coupon.is_receive?e("div",{staticClass:"coupon-btn-use"},[t._v("去使用")]):t._e(),t.coupon.is_receive?t._e():e("div",{staticClass:"coupon-btn-get"},[t._v("立即领取")])])])},g=[],C={props:["coupon","options"],methods:{_eventCoupon:function(){var t=this.coupon.is_receive;t?this._eventUseCoupon():this._eventGetCoupon()},_eventUseCoupon:function(){this.log({cid:"my_vip",aid:"coupon"}),this.$emit("clickUseCoupon",this.coupon,this.options)},_eventGetCoupon:function(){this.log({cid:"my_vip",aid:"coupon"}),this.$emit("clickGetCoupon",this.coupon,this.options)}}},b=C,y=(e("910f"),Object(v["a"])(b,m,g,!1,null,"3e8ae003",null)),w=y.exports,k=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.product?e("div",{staticClass:"product-wrapper",on:{click:t._eventDetail}},[e("div",{staticClass:"image-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.product.small_image,expression:"product.small_image"}],key:t.product.small_image,staticClass:"image",attrs:{alt:""}}),t.priceInfo.notice?e("div",{staticClass:"notice-gray"},[e("span",[t._v(t._s(t.priceInfo.notice))])]):t._e()]),e("div",{staticClass:"info-wrapper"},[e("div",{staticClass:"name-wrapper"},[e("div",{staticClass:"name"},[t.product.is_presale?e("span",{staticClass:"tag tag-auto"},[t._v("预售")]):t._e(),t.priceInfo.isCanBook&&t.product.today_stockout?e("span",{staticClass:"tag tag-auto"},[t._v(t._s(t.product.today_stockout))]):t._e(),e("span",{staticClass:"name-text"},[t._v(t._s(t.product.product_name))])]),e("div",{staticClass:"spec"},[t._v(t._s(t.product.spec))]),e("div",{staticClass:"tags-wrapper"},[e("tag",{attrs:{is_new:t.product.mark_new,is_presale:t.product.is_presale,presale_text:t.product.presale_delivery_date_display,is_promotion:t.product.is_promotion,buy_limit:t.product.buy_limit,activity:t.product.activity}})],1)]),e("div",{staticClass:"price-wrapper"},[e("div",{staticClass:"price-info"},[e("div",{staticClass:"price-part"},[1===t.mode?e("div",{staticClass:"price type1"},[t._v("￥"),e("span",[t._v(t._s(t.product.price))])]):t._e(),1!==t.mode?e("div",{staticClass:"price"},[t._v("￥"),e("span",{staticClass:"f34"},[t._v(t._s(t.priceInfo.priceNum[0]))]),t._v("."+t._s(t.priceInfo.priceNum[1])+"\n                    ")]):t._e(),t.priceInfo.showOrigin&&1!==t.mode?e("div",{staticClass:"origin-price"},[t._v("\n                        ￥"+t._s(t.priceInfo.originPrice)+"\n                    ")]):t._e()]),t.product.vip_price?e("div",{staticClass:"vip-price type-new"},[e("div",{staticClass:"vip-price-info"},[t._v("￥"),e("span",{staticClass:"f34"},[t._v(t._s(t.priceInfo.vipPriceNum[0]))]),t._v("."+t._s(t.priceInfo.vipPriceNum[1])+"\n                    ")]),e("span",{staticClass:"vip-price-tag-two"})]):t._e()]),t.hideCart?t._e():e("div",{staticClass:"icon-cart-wrapper"},[e("div",{staticClass:"icon-cart-border",on:{click:function(i){return i.stopPropagation(),t._eventClickCart(i)}}},[e("icon-font",{staticClass:"icon-cart",attrs:{name:"gouwuchex",size:"32",color:t.priceInfo.cartEnable?"#3CB963":"#EDEDED"}})],1)])])])]):t._e()},x=[],I=(e("bc72"),e("84fb"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tag-wrapper"},[t.is_first?e("span",{staticClass:"tag"},[t._v("首单专享")]):t._e(),t.is_new?e("span",{staticClass:"tag"},[t._v("新品")]):t._e(),t.presale_text?e("span",{staticClass:"tag tag-gray"},[t._v(t._s(t.presale_text))]):t._e(),t.buy_limit?e("span",{staticClass:"tag"},[t._v("限时")]):t._e(),t.buy_limit?e("span",{staticClass:"tag"},[t._v("优惠限"+t._s(t.buy_limit)+"件")]):t._e(),t.text?e("span",{staticClass:"tag"},[t._v(t._s(t.text))]):t._e(),t.activity.length?e("div",{staticClass:"activity-tag"},t._l(t.activity,function(i,s){return e("span",{key:s},[9===i.type&&t.isNnTag||9!==i.type?e("span",{staticClass:"tag"},[t._v(t._s(i.tag||i.type_name))]):t._e()])})):t._e()])}),S=[],P=e("b893"),N=e("f708"),E={name:"tag",props:{is_first:Number,is_new:Number,is_presale:Number,presale_text:String,is_promotion:Number,buy_limit:Number,text:String,activity:{type:Array,default:function(){}}},computed:{isNnTag:function(){return Object(P["b"])(N["a"].appVersion,"8.29.0")>=0}}},T=E,V=(e("0208"),Object(v["a"])(T,I,S,!1,null,"354b6460",null)),A=V.exports,$=e("eba3"),q={components:{Tag:A},props:{product:Object,mode:{default:0},isVip:{default:!0},hideCart:{default:!1}},computed:{priceInfo:function(){var t=this.product,i=t.price,e=t.origin_price,s=t.vip_price,a=t.stock_number,n=t.is_booking,o=i<e&&e>0,c=Number(e).toFixed(2),r=Number(i).toFixed(2).split("."),l=Number(s).toFixed(2).split("."),p=a>=1&&this.isVip,d=Object(P["b"])(N["a"].appVersion,"8.28.0")>=0,u=a<1?"抢光了":"";return n&&(d?u="今日售罄":(u="抢光了",p=!1)),{showOrigin:o,originPrice:c,priceNum:r,vipPriceNum:l,cartEnable:p,notice:u,isCanBook:d}}},methods:{_eventDetail:function(){var t=this.product,i=t.id,e=t.product_name;this.log({cid:"my_vip",aid:"product_detail",value:i,name:e||"",index:this.isVip}),this.openUrl({path:"ddxq://product/detail",query:{id:i}})},_eventClickCart:function(){var t=this.product,i=t.status,e=t.stock_number,s=t.product_name,a=t.id,n=this.priceInfo.cartEnable;this.log({cid:"my_vip",aid:"add_product",value:a,name:s||"",index:this.isVip}),n&&(0!==i?e<1?this.$toast("商品已被抢光了"):this._addProduct():this.$toast("商品已经下架了"))},_addProduct:function(){var t=this,i=this.product,e=i.id,s=i.sizes;s&&s.length>0?Object(P["b"])(N["a"].appVersion,"8.20.0")>0?$["a"].addProductToCartSize({product:i,callback:function(i){i.success&&t.$toast("添加成功",1500)}}):t.$toast("请升级到最新版APP",1500):$["a"].addProductToCart({id:e,count:1,sizes:[],callback:function(i){var e=i.success;e&&t.$toast("添加成功",1500)}})}}},G=q,O=(e("981f"),Object(v["a"])(G,k,x,!1,null,"e37890dc",null)),j=O.exports,F=e("1ad6"),z=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tab-content",class:{"z-index":t.tabsAllShow}},[e("div",{staticClass:"more-part",on:{click:function(i){t._eventMore(t.tabsAllShow)}}},[e("icon-font",{staticClass:"icon-more",attrs:{name:"qiehuanfenlei_huaban",size:"36",color:"#B5B5B5"}})],1),e("div",{ref:"domTabNav",staticClass:"tab-list"},t._l(t.tabList,function(i,s){return e("div",{key:s,staticClass:"tab-part",class:{on:t.tabsIndex===s},on:{click:function(e){e.stopPropagation(),t._eventSelectTab(e,i,s)}}},[t._v("\n            "+t._s(i.name)+"\n        ")])})),t.tabsAllShow?e("div",{staticClass:"mask-all",on:{click:function(i){t._eventMore(t.tabsAllShow)}}}):t._e(),t.tabsAllShow?e("div",{staticClass:"tab-all-list"},t._l(t.tabList,function(i,s){return e("div",{key:s,staticClass:"tab-all-part",class:{on:t.tabsIndex===s},on:{click:function(i){t._eventSelectTabAll(s)}}},[t._v("\n            "+t._s(i.name)+"\n        ")])})):t._e()])},B=[],U=null,L={props:{tabList:Array},data:function(){return{domTabNav:null,tabsAllShow:!1,tabsIndex:0}},mounted:function(){this.domTabNav=this.$refs.domTabNav},methods:{_eventMore:function(t){this.tabsAllShow=!t},_eventSelectTab:function(t,i,e){clearInterval(U),this.$emit("onSelectTab",Object(n["a"])({},i,{index:e}));var s=this.domTabNav,a=s.scrollWidth,o=s.clientWidth,c=s.scrollLeft,r=Math.round((o-t.target.getBoundingClientRect().width)/2+22),l=t.target.offsetLeft-r;l<0&&c>0&&(U=setInterval(function(){var t=s.scrollLeft,i=Math.floor(t/2);s.scrollLeft=i,0===i&&clearInterval(U)},100)),l>0&&(U=setInterval(function(){var t=s.scrollLeft,i=Math.floor((l-t)/2);-1===i&&(i=0),s.scrollLeft=l-i,(0===i||a-o===t&&i>0)&&clearInterval(U)},100)),this.tabsIndex=e},_eventSelectTabAll:function(t){this.domTabNav.children[t].click(),this.tabsAllShow=!1}},destroyed:function(){clearInterval(U)}},M=L,D=(e("97df"),Object(v["a"])(M,z,B,!1,null,"1f396e7a",null)),R=D.exports,H=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.show?e("div",{staticClass:"wrapper"},[t._m(0)]):t._e()},J=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"is-more is-load"},[e("div",{staticClass:"load-more-three-bounce"},[e("div",{staticClass:"sk-child sk-bounce1"}),e("div",{staticClass:"sk-child sk-bounce2"}),e("div",{staticClass:"sk-child sk-bounce3"})])])}],W={props:["show"]},Y=W,X=(e("df1c"),Object(v["a"])(Y,H,J,!1,null,"32648138",null)),K=X.exports,Q=e("5d2d"),Z=e("16bc"),tt=null,it={name:"vip",components:{PrivilegeList:h,CouponItem:w,ProductItem:j,TabNav:R,LoadMore:K,PopBox:F["a"]},data:function(){return{load_banner:"",default_avatar:Z["a"],username:"",card_rebate:"",card_price:"",tabs:[],tabs_index:0,tabs_all_show:!1,tabs_top:0,tabs_float:!1,products_list:[],product:{},page:1,is_more:!1,going:!1,scroll_top:0,user:{},expire_time:"",label:"",status:0,user_status:0,ticket_num:0,point_num:0,product_num:0,save_money:"",today_ticket:{},week_ticket:{},cards:[],renew_remain:0,vip_point_rate:0,card_top:!1,card_float:!1,is_vip:!1,is_activity:!1,card_continue:!1,card_name:"",card_origin_price:"",styleBanner:{},domVip:null,showSave:!1,save_product_money:"",save_coupon_money:"",save_point_money:"",invite_code:"",showFriends:!1,showGuide:!1,friends_card:""}},watch:{station_id_ready:function(){this.station_id_ready&&this.user_login&&this.requestVipDetail()},user_login:function(){this.station_id_ready&&this.user_login&&this.requestVipDetail()}},created:function(){window.addEventListener("scroll",this.eventVipScroll,!0),this.activeScroll()},mounted:function(){var t=this.$route.query.invite_code;this.invite_code=t||"",this.station_id_ready&&this.user_login&&this.requestVipDetail(),this.setApp()},beforeDestroy:function(){clearInterval(tt),window.removeEventListener("scroll",this.eventVipScroll,!0)},methods:{requestVipDetail:function(){var t=Object(r["a"])(c.a.mark(function t(){var i,e,s,a,n,o,r,p,d,u,_,v,f,h,m,g,C,b,y,w,k,x,I,S,N,E,T,V,A=this;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get(l["a"].vipApi("detail"));case 2:i=t.sent,e=i.data,s=e.cards,a=e.cate,n=e.cate_detail,o=e.is_more,r=e.expire_time,p=e.load_banner,d=e.point_num,u=e.product_num,_=e.ticket_num,v=e.renew_remain,f=e.save_money,h=e.status,m=e.user_status,g=e.user_info,C=e.vip_point_rate,b=e.today_ticket,y=e.week_ticket,w=e.save_product_money,k=e.save_coupon_money,x=e.save_point_money,I=e.friends_card,this.load_banner=p,this.status=h,this.user_status=m,this.user=g,this.expire_time=r,this.vip_point_rate=C,this.save_money=f,this.point_num=d,this.product_num=u,this.ticket_num=_,this.is_vip=1===h,this.today_ticket=b,this.week_ticket=y,this.tabs=a,this.products_list=n,this.is_more=o,this.renew_remain=v,this.save_product_money=w,this.save_coupon_money=k,this.save_point_money=x,this.friends_card=I,S=Q["a"].load("VIP_FRIENDS"),N=S.friends_guide,!N&&I&&(Q["a"].save("VIP_FRIENDS",{friends_guide:!0}),this.stopScroll(),this.showFriends=!0),this.log({cid:"my_vip",aid:"index",index:1===h}),p&&(E=Object(P["c"])("width",p),T=Object(P["c"])("height",p),V=document.body.clientWidth,this.styleBanner={height:"".concat(V*T/E,"px")}),this.cardInfoUpdate(s,v),this.waitInit(function(){A.$refs.domCoupons&&(A.card_top=A.$refs.domCoupons.offsetTop,A.tabs_top=A.$refs.domTabProduct.offsetTop,A.domVip=A.$refs.domVip);var t=A.$route.query.go_product;t&&A.animatePos(A.tabs_top)});case 32:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}(),requestVipProducts:function(){var t=Object(r["a"])(c.a.mark(function t(i){var e,s,a,n,o,r,p;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.page,t.next=3,this.$http.get(l["a"].vipApi("product"),{page:e},!1);case 3:s=t.sent,a=s.data,a&&(n=a.cate_detail,o=a.is_more,r=this.products_list,p=[],p=e>1?r.concat(n):n,this.page=e,this.is_more=o,this.products_list=p,this.going=!1);case 6:case"end":return t.stop()}},t,this)}));function i(i){return t.apply(this,arguments)}return i}(),requestCateProducts:function(){var t=Object(r["a"])(c.a.mark(function t(i){var e,s;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get(l["a"].homeApi("categoriesdetail"),{category_id:i,is_vip:1},!1);case 2:e=t.sent,s=e.data,s&&(this.products_list=s);case 5:case"end":return t.stop()}},t,this)}));function i(i){return t.apply(this,arguments)}return i}(),requestGetCoupon:function(){var t=Object(r["a"])(c.a.mark(function t(i){var e,s,a,o,r,p,d,u,_,v;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.today_ticket,s=this.week_ticket,a=this.ticket_num,o=i.id,r=i.num,p=i.type,d=i.index,t.next=6,this.$http.get(l["a"].vipApi("receiveTicket"),{id:o},!1);case 6:u=t.sent,_=u.data,_&&(v=_.notice,1===p&&(e.tickets[d].is_receive=1,e.notice=v,this.today_ticket=Object(n["a"])({},e)),2===p&&(s.tickets[d].is_receive=1,s.notice=v,this.week_ticket=Object(n["a"])({},s)),this.$toast("领取成功"),this.ticket_num=a+(r||0));case 9:case"end":return t.stop()}},t,this)}));function i(i){return t.apply(this,arguments)}return i}(),setApp:function(){var t=this;if(N["a"].isApp){var i=this.$route.query.back_app,e=[{style:1,type:"cart"}];setTimeout(function(){$["a"].setRightTopButton({items:e}),$["a"].setNavigationBarStyle({style:1,bar_color:"#2E3748"})},200),this.eventListenerApp("APP_E3",function(){t.openUrl({path:"ddxq://cart/daimaicai"})}),i&&this.eventListenerApp("APP_E6",function(){t.openUrl({path:"ddxq://product/home"})},!0)}},cardInfoUpdate:function(t,i){var e="",s="",a="",n="",o=0<i&&i<=15,c=!1,r=0;t&&t.length&&(n=t[0].discount,t.map(function(i,e){n>=t[e].discount&&(n=t[e].discount,r=e)}),e=t[r].name,s=t[r].price,a=t[r].origin_price,n<=9?n+="折":n="",c=s!==a),this.card_float=!1,this.is_activity=c,this.card_rebate=n,this.card_name=e,this.card_price=s,this.card_origin_price=a,this.card_continue=o},eventVipScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||(this.domVip?this.domVip.scrollTop:0);t&&(this.scrollTabsFloat(t),this.scrollCardBottom(t),this.getMoreProduct(t))},scrollTabsFloat:function(t){var i=this.tabs_top,e=t>=this.tabs_top&&i;this.tabs_float!==e&&(this.tabs_float=e)},scrollCardBottom:function(t){var i=this.card_top,e=this.card_float,s=this.card_continue,a=this.status,n=t>=i;e!==n&&(this.card_float=1!==a?n:s)},getMoreProduct:function(t){var i=this.is_more,e=this.tabs_index,s=this.going,a=this.page,n=document.documentElement.clientHeight,o=document.documentElement.scrollHeight;if(!e&&i&&!s){if(t+n+10<o)return;this.going=!0,this.requestVipProducts({page:a+1})}},onSelectTab:function(t){var i=t.index,e=t.id;this.tabs_index=i,this.is_more=!1,i?this.requestCateProducts(e):this.requestVipProducts({page:1})},eventVipPay:function(t){var i=t.position,e=this.card_continue,s=this.is_vip;e?this.log({cid:"my_vip",aid:"continue_vip",name:i,index:s}):"speed"===i?this.log({cid:"my_vip",aid:"bonus_point_accelerate",index:s}):this.log({cid:"my_vip",aid:"open_vip",name:i,index:s}),this.openUrl({path:"/vip/pay",query:{invite_code:this.invite_code}})},eventUseCoupon:function(t){var i=t.native_url,e=t.h5_url;N["a"].isApp&&this.openUrl({path:i||e||"ddxq://product/home"})},eventGetCoupon:function(t,i){var e=t.id,s=t.num,a=this.is_vip,o=this;a?this.requestGetCoupon(Object(n["a"])({id:e,num:s},i)):this.$confirm({content:"开通绿卡，立享此券",submitText:"开卡领券",success:function(){o.log({cid:"my_vip_novip_coupon",aid:"open_vip"}),o.openUrl({path:"/vip/pay",query:{invite_code:o.invite_code}})}})},eventGoIntegral:function(){this.openUrl({path:"https://maicai.api.ddxq.mobi/info/single?alias=integration_point"})},animatePos:function(t){var i=document.body.scrollTop||document.documentElement.scrollTop;if(i>t){var e=i;tt=setInterval(function(){var i=document.body.scrollTop||document.documentElement.scrollTop,s=Math.floor((i-t)/2);e>=i?e=i:clearInterval(tt),document.documentElement.scrollTop=s+t,document.body.scrollTop=s+t,0===s&&clearInterval(tt)},50)}i<t&&(tt=setInterval(function(){var i=document.body.scrollTop||document.documentElement.scrollTop,e=document.body.scrollHeight||document.documentElement.scrollHeight,s=window.clientHeight||document.documentElement.clientHeight,a=Math.floor((t-i)/2);-1===a&&(a=0),document.documentElement.scrollTop=t-a,document.body.scrollTop=t-a,(0===a||i+s+1>=e)&&clearInterval(tt)},50))},eventSaveChange:function(){this.showSave=!this.showSave},eventFriendsChange:function(){var t=this;this.showFriends&&this.waitInit(function(){t.showGuide=!0}),this.showFriends=!this.showFriends},eventFriends:function(){this.eventFriendsChange()},eventGuideMask:function(){this.activeScroll(),this.showGuide=!1},eventGuideSend:function(){this.log({cid:"my_vip",aid:"share_friends"}),this.showGuide=!1,this.activeScroll(),this.openUrl({path:"vip/friends"})}}},et=it,st=(e("8b11"),Object(v["a"])(et,s,a,!1,null,"23d10d73",null));i["default"]=st.exports}}]);
//# sourceMappingURL=Vip.5c1a59fc.js.map